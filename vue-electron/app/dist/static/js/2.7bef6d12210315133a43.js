webpackJsonp([2,8,13,14],{1018:function(e,t,a){var r=a(1019);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(876)("69ac69b1",r,!0)},1019:function(e,t,a){t=e.exports=a(875)(!0),t.push([e.i,"#target-part .grab-bing{cursor:-webkit-grab;cursor:-o-grab;cursor:grab}#target-part .grab-bing:active{cursor:-webkit-grabbing;cursor:-o-grabbing;cursor:grabbing}#target-part table td{border-right:1px solid #ddd!important}#target-part .default-column{min-width:100px;text-align:center;vertical-align:middle}#target-part .btnMenu{position:absolute;left:5px;top:6px}#target-part .el-date-editor--daterange.el-input,#target-part .el-date-editor--daterange.el-input__inner,#target-part .el-date-editor--timerange.el-input,#target-part .el-date-editor--timerange.el-input__inner{width:200px!important}#target-part .el-collapse-item__header{height:25px;line-height:25px;padding-left:10px}#target-part .el-collapse-item__arrow{line-height:25px}#target-part .el-collapse-item__content{padding-bottom:0}#target-part .headerMenu{height:30px;padding-left:10px;font-weight:700;background-color:#f0f3f5;border:1px solid #c2cfd6}#target-part .headerMenu .layout-column .flex{min-height:48px}#target-part .owner{padding-top:5px}#target-part .my-row .col{padding:0}@media screen and (max-width:599px){#target-part .headerMenu{height:30px}}#target-part thead{background-color:#fff}#target-part .c{min-width:5px!important;padding:0!important;width:.5px!important;text-align:center!important}#target-part .c td{border:none!important}#target-part td.c{background-color:#a9a9a9!important}#target-part .tgSt{font-size:12px;text-align:left}#target-part .tgWeek{min-width:70px!important}#target-part .cl-Targets{min-width:140px!important}#target-part .cl-Name{min-width:160px!important}#target-part .tg-StatusName{text-align:center}#target-part .h{background-color:#fff!important;color:#000;outline:auto;outline-color:#bdbdbd}#target-part .h td::first-child{padding:10px 5px!important}#target-part .h td{border:none!important}#target-part .mt{max-width:300px!important;min-width:200px!important}#target-part .r{max-width:45px!important;min-width:30px!important}#target-part .icon{font-size:24px;min-width:25px;margin:0;padding:0 6px}#target-part th{text-align:center!important}#target-part th,#target-part tr{border:thin solid #d3d3d3}#target-part .el-main{padding:0}#target-part .container-fluid{padding:5px!important}#target-part #filter{position:fixed;top:80px;right:30px;z-index:99;cursor:pointer}","",{version:3,sources:["D:/projects/bos/vuejs/src/components/Target.vue"],names:[],mappings:"AACA,wBACE,oBAAqB,AACrB,eAAgB,AAChB,WAAa,CACd,AACD,+BACE,wBAAyB,AACzB,mBAAoB,AACpB,eAAiB,CAClB,AACD,sBACE,qCAAwC,CACzC,AACD,6BACE,gBAAiB,AACjB,kBAAmB,AACnB,qBAAuB,CACxB,AACD,sBACE,kBAAmB,AACnB,SAAU,AACV,OAAS,CACV,AACD,kNACE,qBAAwB,CACzB,AACD,uCACE,YAAa,AACb,iBAAkB,AAClB,iBAAmB,CACpB,AACD,sCACE,gBAAkB,CACnB,AACD,wCACE,gBAAoB,CACrB,AACD,yBACE,YAAa,AACb,kBAAmB,AACnB,gBAAkB,AAClB,yBAA0B,AAC1B,wBAA0B,CAC3B,AACD,8CACI,eAAiB,CACpB,AACD,oBACE,eAAiB,CAClB,AACD,0BACE,SAAa,CACd,AACD,oCACA,yBACI,WAAa,CAChB,CACA,AACD,mBACE,qBAAwB,CACzB,AACD,gBACE,wBAA0B,AAC1B,oBAAwB,AACxB,qBAAwB,AACxB,2BAA8B,CAC/B,AACD,mBACI,qBAAwB,CAC3B,AACD,kBACE,kCAAsC,CACvC,AACD,mBACE,eAAgB,AAChB,eAAiB,CAClB,AACD,qBACE,wBAA2B,CAC5B,AACD,yBACE,yBAA4B,CAC7B,AACD,sBACE,yBAA4B,CAC7B,AACD,4BACE,iBAAmB,CACpB,AAID,gBACE,gCAAmC,AACnC,WAAa,AACb,aAAc,AACd,qBAAuB,CACxB,AACD,gCACI,0BAA6B,CAChC,AACD,mBACI,qBAAwB,CAC3B,AACD,iBACE,0BAA4B,AAC5B,yBAA4B,CAC7B,AACD,gBACE,yBAA2B,AAC3B,wBAA2B,CAC5B,AACD,mBACE,eAAgB,AAChB,eAAgB,AAChB,SAAU,AACV,aAAe,CAChB,AACD,gBACE,2BAA8B,CAE/B,AACD,gCAFE,yBAA6B,CAI9B,AACD,sBACE,SAAW,CACZ,AACD,8BACE,qBAAwB,CACzB,AACD,qBAEE,eAAgB,AAChB,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,cAAgB,CACjB",file:"Target.vue",sourcesContent:["\n#target-part .grab-bing {\n  cursor: -webkit-grab;\n  cursor: -o-grab;\n  cursor: grab;\n}\n#target-part .grab-bing:active {\n  cursor: -webkit-grabbing;\n  cursor: -o-grabbing;\n  cursor: grabbing;\n}\n#target-part table td {\n  border-right: 1px solid #ddd !important;\n}\n#target-part .default-column {\n  min-width: 100px;\n  text-align: center;\n  vertical-align: middle;\n}\n#target-part .btnMenu {\n  position: absolute;\n  left: 5px;\n  top: 6px;\n}\n#target-part .el-date-editor--daterange.el-input, #target-part .el-date-editor--daterange.el-input__inner, #target-part .el-date-editor--timerange.el-input, #target-part .el-date-editor--timerange.el-input__inner {\n  width: 200px !important;\n}\n#target-part .el-collapse-item__header {\n  height: 25px;\n  line-height: 25px;\n  padding-left: 10px;\n}\n#target-part .el-collapse-item__arrow {\n  line-height: 25px;\n}\n#target-part .el-collapse-item__content {\n  padding-bottom: 0px;\n}\n#target-part .headerMenu {\n  height: 30px;\n  padding-left: 10px;\n  font-weight: bold;\n  background-color: #f0f3f5;\n  border: 1px solid #c2cfd6;\n}\n#target-part .headerMenu .layout-column .flex {\n    min-height: 48px;\n}\n#target-part .owner {\n  padding-top: 5px;\n}\n#target-part .my-row .col {\n  padding: 0px;\n}\n@media screen and (max-width: 599px) {\n#target-part .headerMenu {\n    height: 30px;\n}\n}\n#target-part thead {\n  background-color: white;\n}\n#target-part .c {\n  min-width: 5px !important;\n  padding: 0px !important;\n  width: 0.5px !important;\n  text-align: center !important;\n}\n#target-part .c td {\n    border: none !important;\n}\n#target-part td.c {\n  background-color: darkgray !important;\n}\n#target-part .tgSt {\n  font-size: 12px;\n  text-align: left;\n}\n#target-part .tgWeek {\n  min-width: 70px !important;\n}\n#target-part .cl-Targets {\n  min-width: 140px !important;\n}\n#target-part .cl-Name {\n  min-width: 160px !important;\n}\n#target-part .tg-StatusName {\n  text-align: center;\n}\n#target-part .tg-qua-han {\n  /*text-align: end;*/\n}\n#target-part .h {\n  background-color: white !important;\n  color: black;\n  outline: auto;\n  outline-color: #bdbdbd;\n}\n#target-part .h td::first-child {\n    padding: 10px 5px !important;\n}\n#target-part .h td {\n    border: none !important;\n}\n#target-part .mt {\n  max-width: 300px !important;\n  min-width: 200px !important;\n}\n#target-part .r {\n  max-width: 45px !important;\n  min-width: 30px !important;\n}\n#target-part .icon {\n  font-size: 24px;\n  min-width: 25px;\n  margin: 0;\n  padding: 0 6px;\n}\n#target-part th {\n  text-align: center !important;\n  border: solid thin lightgray;\n}\n#target-part tr {\n  border: solid thin lightgray;\n}\n#target-part .el-main {\n  padding: 0;\n}\n#target-part .container-fluid {\n  padding: 5px !important;\n}\n#target-part #filter {\n  /*display: none;*/\n  position: fixed;\n  top: 80px;\n  right: 30px;\n  z-index: 99;\n  cursor: pointer;\n}\n"],sourceRoot:""}])},1020:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_defineProperty__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_defineProperty___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_defineProperty__),__WEBPACK_IMPORTED_MODULE_3_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_4__components_static_WeekTarget__=__webpack_require__(877),__WEBPACK_IMPORTED_MODULE_5__components_static_WeekTask__=__webpack_require__(878),__WEBPACK_IMPORTED_MODULE_6__components_static_TargetSetting__=__webpack_require__(879),__WEBPACK_IMPORTED_MODULE_7__components_static_TargetDialog__=__webpack_require__(919),__WEBPACK_IMPORTED_MODULE_8__components_static_BlockLeftPanelTarget__=__webpack_require__(1021),__WEBPACK_IMPORTED_MODULE_9_element_ui_lib_theme_chalk_display_css__=__webpack_require__(292),__WEBPACK_IMPORTED_MODULE_9_element_ui_lib_theme_chalk_display_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_element_ui_lib_theme_chalk_display_css__);__WEBPACK_IMPORTED_MODULE_3_vue__.default.use(__webpack_require__(37)),__webpack_exports__.a={components:{WeekTarget:__WEBPACK_IMPORTED_MODULE_4__components_static_WeekTarget__.default,WeekTask:__WEBPACK_IMPORTED_MODULE_5__components_static_WeekTask__.default,TargetSetting:__WEBPACK_IMPORTED_MODULE_6__components_static_TargetSetting__.default,BlockLeftPanelTarget:__WEBPACK_IMPORTED_MODULE_8__components_static_BlockLeftPanelTarget__.a},computed:{},watch:{filter:{handler:function(e,t){this.filterChanged(e)},deep:!0}},mounted:function(){var e=this;this.$rootScope.arrStatusColor=this.$getItemLocalStorage(this.$localStorageConstant.settingColor),this.$rootScope.arrStatusColor&&(this.$rootScope.arrStatusColor=JSON.parse(this.$rootScope.arrStatusColor)),this.$hub.$on("datePicked",function(t){e.model.PlanStartDateStartValue=t[0],e.model.PlanStartDateEndValue=t[1],e.changeType(e.Type,e.Target)}),this.$hub.$on("workerPicked",function(t){e.model.Worker=t,e.changeType(e.Type,e.Target)})},data:function(){var e=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_defineProperty___default()({startDateVal:"",endDateVal:"",dateFilterType:"week",currentTab:"weekTargets",TargetTab:"weekTargets",base:"",isMobileVer:null,height:720,showMenu:!0,headers:[],listDates:[],listGroupsDate:[],tasks:[],ProgressColor:[15,30,45,60,75,90,105],ListPlan:[],DateTime:[[{key:"DayAgo",value:"Hôm trước"},{key:"Day",value:"Hôm nay"},{key:"DayNext",value:"Hôm sau"}],[{key:"WeekAgo",value:"Tuần trước"},{key:"Week",value:"Tuần này"},{key:"WeekNext",value:"Tuần sau"}],[{key:"MonthAgo",value:"Tháng trước"},{key:"Month",value:"Tháng này"},{key:"MonthNext",value:"Tháng sau"}]],datasource:[],notifications:[],taskIndex:[],listSubscribe:[],isSystemAdmin:!0,isMantisAdmin:!0,prefix:"",indexx:1,ListType:[{Id:"1",Name:"Mục tiêu công ty"},{Id:"2",Name:"Mục tiêu phòng ban"},{Id:"3",Name:"Mục tiêu cá nhân"}],isMobileApp:null,SettingList:{},showFilter:!1,model:{WeekNumber:48,PlanStartDateStartValue:"2017-11-26T17:00:00.000Z",PlanStartDateEndValue:"2017-12-03T16:59:59.000Z"},listData:[],thisYear:2017,viewModel:{},baseUri:"",Show:[],Showa:!0,isMobileDevice:!1,Type:"Target",TypeName:"Mục tiêu",Target:0,arrWeek:[],isWeek:"true",ListWorker:[],ListGroup:[],filteredListGroup:[],ListVersionProject:[],targetFields:[],ListProject:[],SettingIndex:0,setFilterSetting:!1,lists:{},ListSettings:[],ListField:[],ListCols:{},listDisplay:[],FieldList:"",objSearch:{},ListTarget:"",listTargetDetail:[],arrStatusColor:[],dataSource:[],Display:!0,cells:[]},"endDateVal",null);return e.firstDayOfWeekCfg=this.$getItemLocalStorage("firstDayOfWeekCfg")?parseInt(JSON.parse(this.$getItemLocalStorage("firstDayOfWeekCfg")).Value):1,e.targetLst=[],e.targetSavedLst=[],e.myTargetLst=[],e.myManagedTargetLst=[],e.publicTargetLst=[],e.weeks=this.getRecentWeeks(e.firstDayOfWeekCfg),e.months=[],e.quarters=[],e.filter={startDateValue:"",departmentId:"",targetTypeId:"",selectedWorkers:"",departmentIds:[]},e.ParentId="",e.tabCache="",e.dataToPass=e,e},methods:{changeFilterDateType:function(e){var t="";"week"===e?t=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().isoWeekday(this.firstDayOfWeekCfg).startOf("isoweek")._d:"month"===e?t=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().startOf("month")._d:"quarter"===e&&(t=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().startOf("quarter")._d),this.filter.startDateValue=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" 00:00:00"},filterChanged:function(e){if("settingTargets"==this.TargetTab)if(""==e.startDateValue){var t=this.$Lodash.cloneDeep(this.targetSavedLst);this.targetLst=t.filter(function(e){return!(e.Code&&"xSetting.Project.Parameter.Organization.Target"===e.Code)})}else{var a=new Date(e.startDateValue),r=null;"week"===this.dateFilterType?r=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(a).isoWeekday(this.firstDayOfWeekCfg).endOf("isoweek")._d:"month"===this.dateFilterType?r=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(a).endOf("month")._d:"quarter"===this.dateFilterType&&(r=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(a).endOf("quarter")._d),this.targetLst=this.targetSavedLst.filter(function(e){return new Date(e.ActualStartDate)<=a&&new Date(e.ActualFinishDate)>=a||new Date(e.ActualStartDate)<=r&&new Date(e.ActualFinishDate)>=r||new Date(e.ActualStartDate)<=a&&new Date(e.ActualFinishDate)>=r||new Date(e.ActualStartDate)>=a&&new Date(e.ActualFinishDate)<=r})}else{this.model.PlanStartDateStartValue=new Date(e.startDateValue),this.model.PlanStartDateEndValue=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(e.startDateValue).isoWeekday(this.firstDayOfWeekCfg).endOf("isoweek"),this.model.Project=e.departmentIds,this.model.Worker=e.selectedWorkers;var s="1"==e.targetTypeId?0:e.targetTypeId;"weekTasks"==this.currentTab?this.changeType("PlanStartDate"):"weekTargets"==this.currentTab&&this.changeType("Target",s)}},changeTab:function(e){"settingTargets"===this.tabCache&&(this.dateFilterType="week",this.changeFilterDateType("week")),this.changeTabTarget(e.paneName),this.tabCache=e.paneName},onShowMenu:function(e){this.showMenu=!e,$("#display").toggle("slow")},openTargetDetail:function(e,t){var a=JSON.parse(this.targetFields),r={item:e,workers:this.ListWorker,departmentLst:this.ListGroup,isEditable:t,targetLst:this.targetLst,disabled:!t,targetFields:a,getTargets:this.getTargets,getObject:this.getObject,targetSavedLst:this.targetSavedLst};this.$hub.$emit("set-modal-data","","50%",!0,"center",__WEBPACK_IMPORTED_MODULE_7__components_static_TargetDialog__.a,!1,"",r,!0),this.$hub.$emit("open-modal")},changeTabTarget:function(e){if(e!==this.currentTab){if("weekTasks"==e)this.changeType("PlanStartDate"),this.thisYear!=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().year()&&(this.thisYear=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().year(),this.getWeekthisYear());else if("weekTargets"==e)this.changeType("Target","1"==this.filter.targetTypeId?0:this.filter.targetTypeId);else if(""==this.filter.startDateValue){var t=this.$Lodash.cloneDeep(this.targetSavedLst);this.targetLst=t.filter(function(e){return!(e.Code&&"xSetting.Project.Parameter.Organization.Target"===e.Code)})}else{var a=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(new Date(this.filter.startDateValue))._d,r=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(a).isoWeekday(this.firstDayOfWeekCfg).endOf("isoweek")._d;this.targetLst=this.targetSavedLst.filter(function(e,t){return new Date(e.ActualStartDate)<=a&&new Date(e.ActualFinishDate)>=a||new Date(e.ActualStartDate)<=r&&new Date(e.ActualFinishDate)>=r||new Date(e.ActualStartDate)<=a&&new Date(e.ActualFinishDate)>=r||new Date(e.ActualStartDate)>=a&&new Date(e.ActualFinishDate)<=r})}this.currentTab=e}},changeType:function(e,t){this.Type=e,this.TypeName="PlanStartDate"==e?"Tuần":"Mục tiêu",this.Target=t;var a="PlanStartDate"==e?1:0;if(this.SettingList[this.Type]){var r=[];this.SettingList[this.ListSettings[a].Name].Fields.forEach(function(e){e.Caption&&"true"!=e.ListIsHidden&&r.push(e)});var s=!1;this.ListCols={};for(var i=0;i<r.length;i++)if("Group"==r[i].FieldType){var n=r[i].Caption;this.ListCols[n]=[],s=!0}else s&&this.ListCols[n].push(r[i]);this.getObject()}else this.loadSetting("PlanStartDate"==e?1:0)},getObject:function getObject(){var vm=this;if(vm.objSearch={},"Target"==vm.Type){vm.ListTarget="";var requestSearch=vm.$Utils.updateParamsSingleRequest(vm.$Lodash.cloneDeep(vm.$singleRequest),{ParentCode:"xSetting.Project.Parameter.Organization.Target",RequestOrderFields:"LeftIndex ASC",RequestClass:"xBase",RequestAction:"Request",TargetType:vm.Target,RequestDataGroup:"DataGroup.muc-tieu.091fb",RequestFields:"Plan;Done;Progress;Unit;Assigned;AssignedName;Owner;OwnerName;TargetType;Id;Index;Code;Name;Value;Description;LeftIndex;ParentId;Level;ValueName;RightIndex;Created;CreatedBy;Modified;ActualStartDate;ActualFinishDate;IsPublic",RequestTemplate:"xDynamicData_Setting.Search",AssignedUser:vm.$getItemLocalStorage(vm.$localStorageConstant.SessionId)});vm.$isMantisAdmin()&&0==vm.Target?requestSearch.R1_TargetType="1;2":0==vm.Target&&delete requestSearch.R1_TargetType,requestSearch.R1_Value="",vm.model.Project.length>0&&(requestSearch.R1_Value=vm.model.Project.join(";")),vm.$Utils.postCheckResult(requestSearch).then(function(data){data=vm.$Utils.getDataWithRoot(data,"R1.Data.DynamicDS.Setting"),vm.listTargetDetail=[];var currentId=vm.$getItemLocalStorage(vm.$localStorageConstant.UserId).toLowerCase(),noteChild={},noteRoot=0,index=0;$.each(data,function(key,value){var checked={};if(vm.model.Worker&&0!=vm.model.Worker.length?$.each(vm.model.Worker,function(e,t){-1!=t.indexOf(";")?checked.Worker=!0:value.Assigned&&-1!=value.Assigned.indexOf(t)&&(checked.Worker=!0)}):checked.Worker=!0,0==vm.Target){var minLevel=6,dashed="";minLevel==value.Level&&noteRoot++,dashed=noteRoot,vm.$Utils.isEmpty(noteChild[noteRoot])||(noteChild[noteRoot]={});for(var i=minLevel;i<value.Level;i++)vm.$Utils.isEmpty(noteChild[noteRoot],value.Level)||(noteChild[noteRoot][value.Level]=0),i==value.Level-1&&(noteChild[noteRoot][value.Level]++,noteChild[noteRoot][eval(value.Level)+1]=0),0!=noteChild[noteRoot][i+1]&&noteChild[noteRoot][i+1]?dashed+="."+noteChild[noteRoot][i+1]:dashed+=".0";value.Index=dashed}if((!vm.$Utils.isEmpty(value.ActualStartDate)&&!vm.$Utils.isEmpty(value.ActualFinishDate)||vm.$Utils.isEmpty(value.ActualStartDate)&&eval(new Date(value.ActualStartDate)>=new Date(vm.model.PlanStartDateStartValue))&&eval(new Date(value.ActualStartDate)<=new Date(vm.model.PlanStartDateEndValue))||vm.$Utils.isEmpty(value.ActualFinishDate)&&eval(new Date(value.ActualFinishDate)>=new Date(vm.model.PlanStartDateStartValue))&&eval(new Date(value.ActualFinishDate)<=new Date(vm.model.PlanStartDateEndValue))||vm.$Utils.isEmpty(value.ActualStartDate)&&vm.$Utils.isEmpty(value.ActualFinishDate)&&eval(new Date(value.ActualStartDate)<=new Date(vm.model.PlanStartDateEndValue))&&eval(new Date(value.ActualFinishDate)>=new Date(vm.model.PlanStartDateEndValue)))&&checked.Worker){0!=vm.Target&&(index++,value.Index=index),vm.objSearch[value.Id]=value,vm.ListTarget+=value.Id+";";var ele=value;if(ele.isOwner=!1,ele.isAssigned=!1,ele.Plan&&parseInt(ele.Plan)&&(ele.Plan=vm.$Utils.numberWithCommas(ele.Plan)),ele.Done&&parseInt(ele.Done)&&(ele.Done=vm.$Utils.numberWithCommas(ele.Done)),ele.Owner&&ele.Owner.toLowerCase().indexOf(currentId)>-1&&(ele.isOwner=!0),ele.Assigned&&ele.Assigned.toLowerCase().indexOf(currentId)>-1&&(ele.isAssigned=!0),ele.GroupName="",vm.$Utils.isEmpty(ele.Modified)&&(ele.Modified=vm.$Utils.formatDateTime(ele.Modified,"DD/MM/YYYY HH:mm")),vm.$Utils.isEmpty(ele.Progress)?ele.Progress=ele.Progress.split(".")[0]:ele.Progress=0,vm.$Utils.isEmpty(ele.Value)){var ids=ele.Value.split(";"),Name="";$.each(ids,function(e,t){$.each(vm.ListGroup,function(e,a){e>0&&t==a.GroupId&&(ele.GroupName+=a.GroupName+";")})})}vm.$isSystemAdmin()||vm.$isMantisAdmin()?(0==vm.Target&&ele.TargetType,vm.listTargetDetail.push(ele)):vm.listTargetDetail.push(ele)}}),vm.getTask();var user=JSON.parse(vm.$getItemLocalStorage(vm.$localStorageConstant.LoggedOnUser));vm.myManagedTargetLst=[],vm.myTargetLst=[],vm.publicTargetLst=[],$.each(vm.listTargetDetail,function(e,t){t.TargetTypeName=vm.ListType[t.TargetType-1].Name,!0===t.isOwner?vm.myManagedTargetLst.push(t):!0===t.isAssigned?vm.myTargetLst.push(t):vm.publicTargetLst.push(t);var a=!1;void 0!=user.GroupRoles&&void 0!=user.GroupRoles.Leader&&t.Value&&t.Value.split(";").length>0&&user.GroupRoles.Leader.split(";").filter(function(e,r){t.Value.indexOf(e)>-1&&(a=!0)}),vm.$isSystemAdmin()||vm.$isMantisAdmin()||a&&"3"===t.TargetType?t.Permission="Manage":a&&"2"===t.TargetType||a&&"1"===t.TargetType||t.Owner&&t.Owner.indexOf(user.UserId)>-1||t.Assigned&&t.Assigned.indexOf(user.UserId)>-1?t.Permission="Edit":t.Permission="View"})})}else{var dateTime=vm.model.PlanStartDateStartValue;for(vm.objSearch[vm.$Utils.formatDateTime(__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(dateTime).toDate(),"YYYY/MM/DD")]=vm.$Utils.dateToString(vm.$Utils.stringToDate(dateTime).getDay());eval(new Date(__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(dateTime).add(1,"days"))<new Date(vm.model.PlanStartDateEndValue));)dateTime=vm.$Utils.formatDateTime(__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(dateTime).add(1,"days").toDate()),vm.objSearch[vm.$Utils.formatDateTime(dateTime,"YYYY/MM/DD")]=vm.$Utils.dateToString(vm.$Utils.stringToDate(dateTime).getDay());vm.getTask()}},getTask:function(e){var t=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.TotalRequests=0,a.TotalRequests++;var r={AssignedUser:this.$getItemLocalStorage(this.$localStorageConstant.SessionId),RequestTemplate:"AG_Task_Task.Search",RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",RequestFields:"Id;Project;ProjectName;Index;Modified;Name;StatusName;WorkerName;PlanStartDate;Deadline;PlanManHour;RemainingManHour;RestTime;ChosenOne;Progress;CategoriesName;Targets;PriorityIdName;StatusDisplayName;StatusDisplay;TotalDownload;TotalComment;Action;Categories;CategoryProjectLevel1;CategoryProjectLevel2;CategoryProjectLevel3;ChosenOne;Code;CreatedBy;GroupRoot;Id;Index;Manager;Milestone;ModifiedBy;PriorityId;Project;ProjectType;Quality;Status;TaskQualityResult;TaskRequest;TaskResult;TaskState;TotalComment;TotalDownload;Type;Version;Worker;TagName;StatusDisplayName;SeverityName;VersionProjectName;CategoriesLevel1;CategoriesLevel2;CategoriesLevel3;CategoriesLevel4;TargetsName;TargetsLevel1;TargetsLevel2;TargetsLevel3;TargetsLevel4;CategoriesLevel5;ProjectCategoriesLevel1;ProjectCategoriesLevel2;ChosenOneName;Targets;",RequestOrderFields:"PlanStartDate ASC"};"Target"==this.Type&&0!=this.Target&&(r["TargetsLevel"+this.Target]=this.ListTarget,r.RequestFields+="TargetsLevel"+this.Target+";"),r.PlanStartDateStartValue=this.$Utils.formatDateTime(this.model.PlanStartDateStartValue),r.PlanStartDateEndValue=this.$Utils.formatDateTime(this.model.PlanStartDateEndValue);var s={};this.$Utils.isEmpty(this.model.PlanStartDateEndValue,"setHours")&&this.model.PlanStartDateEndValue.setHours(23,59,59),"Target"!=this.Type?$.each(this.model,function(e,a){"object"==(void 0===a?"undefined":__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(a))&&null!=a?a.length>0?s[e]=a.join(";"):0!=a.length&&(s[e]=t.$Utils.formatDateTime(a)):"string"==typeof a&&(s[e]=a)}):(s.PlanStartDateStartValue=this.$Utils.formatDateTime(this.model.PlanStartDateStartValue),s.PlanStartDateEndValue=this.$Utils.formatDateTime(this.model.PlanStartDateEndValue)),a=this.$Utils.updateParamsSingleRequest(a,r,a.TotalRequests),a=this.$Utils.updateParamsSingleRequest(a,s,a.TotalRequests),this.$Utils.postCheckResult(a).then(function(e){t.dataSource=t.$Utils.getDataWithRoot(e.R1,"Data.TasksDS.Task"),t.bindData()})},getWorker:function(){var e=this,t={RequestAction:"SearchUsers",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"Status;LoginName;UserId",StaticFields:"UserId;Username;LoginName;Status;",OrderFields:"LoginName ASC",DynamicFields:"Avatar",Status:1};this.$Utils.post(t).then(function(t){e.ListWorker=e.$Utils.getDataWithRoot(t,"Data.UserDS.User"),"superadmin"!==JSON.parse(e.$getItemLocalStorage(e.$localStorageConstant.LoggedOnUser)).LoginName&&(e.ListWorker=e.ListWorker.filter(function(e){return-1===e.LoginName.indexOf("superadmin")}));var a={UserId:e.ListWorker.map(function(e){return e.UserId}).join(";"),Username:"Tất cả"};e.ListWorker.unshift(a)})},getVersionProject:function(){var e=this,t=this.$Lodash.cloneDeep(this.$singleRequest),a={RequestTemplate:"xDocument_Document.Search",RequestFields:"Id;Name;ProjectCode;Code;CreatedBy;State;Status;Type;",Code:"Project",RequestDataGroup:"DataGroup.quan-ly-du-an.053gf"};t=this.$Utils.updateParamsSingleRequest(t,a),this.$Utils.post(t).then(function(t){if(e.ListVersionProject=e.$Utils.getDataWithRoot(t.R1,"Data.DocumentDS.Document"),e.ListVersionProject.length>0){var a={Id:e.ListVersionProject.map(function(e){return e.Id}).join(";"),Name:"Tất cả"};e.ListVersionProject.unshift(a)}})},bindData:function bindData(){var vm=this;vm.Display=!0,vm.cells=[],vm.tasks=vm.dataSource;var week=vm.objSearch,days={},taskByday={},Now=new Date;$.each(week,function(wKey,wValue){var taskByday={},cellh={CellType:"h"};cellh.Id=wValue.Id;var TotalPlanManHour=0,TotalRemainingManHour=0,TotalActualManHour=0,TotalRestTime=0,TotalSpentTime=0,TotalProgress=0;if(taskByday[wKey]=[],$.each(vm.tasks,function(k,task){if("Target"==vm.Type){var head="";if(vm.Target>0)head=task["TargetsLevel"+vm.Target];else if(task.Targets){var i=1;vm.$isMantisAdmin()&&task.Targets.split(";").length>3?(i=2,head=task["TargetsLevel"+(task.Targets.split(";").length-i)]):head=task["TargetsLevel"+(task.Targets.split(";").length-i)]}}else var time=vm.$Utils.stringToDate(task.PlanStartDate),date=vm.$Utils.dateToString(time.getDay()),head=vm.$Utils.formatDateTime(task.PlanStartDate,"YYYY/MM/DD");if(vm.$Utils.isEmpty(head)&&""!=head&&wKey==head){for(var k in task)cellh[k]="";task.Progress=task.Progress?parseFloat(task.Progress).toFixed(0):parseFloat(0).toFixed(0),TotalPlanManHour=parseFloat(eval(TotalPlanManHour)+eval(task.PlanManHour)).toFixed(2),TotalActualManHour=parseFloat(eval(TotalActualManHour)+eval(task.ActualManHour)).toFixed(2),TotalRemainingManHour=parseFloat(eval(TotalRemainingManHour)+eval(task.RemainingManHour)).toFixed(2),TotalRestTime=parseFloat(eval(TotalRestTime)+eval(task.RestTime)).toFixed(2),TotalProgress=parseFloat(eval(TotalProgress)+eval(task.Progress)/100*eval(task.RemainingManHour)).toFixed(2),"532e9f1e-f5dc-4e75-b7c9-2bd785bbda67"!=task.Status&&"53cc3819-c019-4749-b0e4-52213438049b"!=task.Status&&eval(Now>new Date(task.PlanStartDate))?task.SpentTime=parseFloat(vm.$Utils.expressionToString(task,"{{Deadline|DateTime:toNows}}")).toFixed(2):task.SpentTime=0,TotalSpentTime=parseFloat(eval(TotalSpentTime)+eval(task.SpentTime)).toFixed(2),taskByday[wKey]||(taskByday[wKey]=[]),taskByday[wKey].push(task)}}),"Target"!=vm.Type){var wtime=vm.$Utils.stringToDate(new Date(wKey)),wdate=vm.$Utils.dateToString(wtime.getDay());vm.model.WeekNumber==vm.SourceWeek?cellh.Index=wdate:cellh.Index=wdate+" - "+vm.$Utils.formatDateTime(new Date(wKey),"DD/MM")}else cellh.Index=week[wKey].Index,cellh.Name=week[wKey].Name,vm.$Utils.isEmpty(week[wKey].Unit)&&(cellh.Unit=" "+week[wKey].Unit),1==week[wKey].TargetType?week[wKey].ValueName&&(cellh.WorkerName=week[wKey].ValueName.split(",").join(", ")):week[wKey].AssignedName&&(cellh.WorkerName=week[wKey].AssignedName.split(",").join(", "));cellh.PlanManHour=TotalPlanManHour,cellh.ActualManHour=TotalActualManHour,cellh.RestTime=TotalRestTime,cellh.RemainingManHour=TotalRemainingManHour,cellh.SpentTime=TotalSpentTime,cellh.PlanStartDate=wValue.ActualStartDate,cellh.Deadline=wValue.ActualFinishDate,0!=eval(TotalRemainingManHour)?cellh.Progress=parseFloat(eval(TotalProgress)/eval(TotalRemainingManHour)*100).toFixed(0):cellh.Progress=parseFloat(0).toFixed(0),"Target"==vm.Type?(parseInt(week[wKey].Plan)?cellh.TargetPlan=vm.$Utils.isEmpty(week[wKey].Plan)?vm.$Utils.numberWithCommas(week[wKey].Plan):0:cellh.TargetPlan=vm.$Utils.isEmpty(week[wKey].Plan)?week[wKey].Plan:0,parseInt(week[wKey].Done)?cellh.TargetDone=vm.$Utils.isEmpty(week[wKey].Done)?vm.$Utils.numberWithCommas(week[wKey].Done):0:cellh.TargetDone=vm.$Utils.isEmpty(week[wKey].Done)?week[wKey].Done:0,cellh.TargetProgress=vm.$Utils.isEmpty(week[wKey].Progress)?week[wKey].Progress:0,cellh.Name&&(vm.cells.push(cellh),vm.cells=vm.cells.concat(taskByday[wKey]))):cellh.Index&&(cellh.PlanStartDate=wKey,cellh.Deadline=wKey,vm.cells.push(cellh),vm.cells=vm.cells.concat(taskByday[wKey]))})},loadSetting:function(e){var t=this;t.$Utils.isEmpty(e)?t.SettingIndex=e:t.SettingIndex=0,t.setFilterSetting=!1,t.lists={};var a=t.$Lodash.cloneDeep(t.$singleRequest);a.R1_RequestTemplate="Setting.SearchBase",a.R1_ParentCode="xSetting.Project.Tools.Target",t.$Utils.post(a).then(function(e){t.ListSettings=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");var a=t.$Lodash.cloneDeep(t.$singleRequest);a.R1_RequestTemplate="Setting.SearchBase",a.R1_ParentCode="xSetting.Project.List",a.R1_Code=t.ListSettings[t.SettingIndex].Value,t.$Utils.post(a).then(function(e){t.SettingList[t.ListSettings[t.SettingIndex].Name]=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0],t.$Utils.isEmpty(t.SettingList[t.ListSettings[t.SettingIndex].Name],"Description")&&"string"==typeof t.SettingList[t.ListSettings[t.SettingIndex].Name].Description&&(t.SettingList[t.ListSettings[t.SettingIndex].Name].Description=JSON.parse(t.SettingList[t.ListSettings[t.SettingIndex].Name].Description));for(var a=1;a<=t.SettingList[t.ListSettings[t.SettingIndex].Name].Description.FCount;a++)1===a&&(t.ListField=""),t.ListField+=t.SettingList[t.ListSettings[t.SettingIndex].Name]["F"+a],delete t.SettingList[t.ListSettings[t.SettingIndex].Name]["F"+a];t.ListField=JSON.parse(t.ListField);var r=[];$.each(t.ListField,function(e,t){t.Caption&&"true"!=t.ListIsHidden&&r.push(t)});var s=!1;t.ListCols={};for(var a=0;a<r.length;a++)if("Group"==r[a].FieldType){var i=r[a].Caption;t.ListCols[i]=[],s=!0}else s&&t.ListCols[i].push(r[a]);t.SettingList[t.ListSettings[t.SettingIndex].Name].Fields=t.ListField,t.listDisplay=JSON.parse(t.SettingList[t.ListSettings[t.SettingIndex].Name].OF1),t.FieldList="",$.each(t.ListField,function(e,a){t.FieldList+=t.ListSettings[t.SettingIndex].Name+";"}),t.getObject()})})},getTargets:function getTargets(){var ctrl=this,user=JSON.parse(ctrl.$getItemLocalStorage(ctrl.$localStorageConstant.LoggedOnUser)),request=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);request.TotalRequests=2,request.R1_RequestTemplate="xDynamicData_Setting.Search",request.R1_ParentCode="xSetting.Project.Parameter.Organization.Target",request.R1_RequestFields="Plan;Done;Progress;Unit;Assigned;AssignedName;Owner;OwnerName;TargetType;Id;Index;Code;Name;Value;Description;LeftIndex;ParentId;Level;ValueName;RightIndex;Created;CreatedBy;Modified;IsPublic;ActualStartDate;ActualFinishDate",request.R1_RequestDataGroup="DataGroup.muc-tieu.091fb",request.R1_IncludedNestedSetParent=!0,request.R1_AssignedUser=ctrl.$getItemLocalStorage(ctrl.$localStorageConstant.SessionId),request.R1_OrderFields="Created desc",request.R2_RequestTemplate="xDynamicData_Setting.Search",request.R2_ParentCode="xSetting.Project.Parameter.Organization.Target",request.R2_RequestFields="Plan;Done;Progress;Unit;Assigned;AssignedName;Owner;OwnerName;TargetType;Id;Index;Code;Name;Value;Description;LeftIndex;ParentId;Level;Value;RightIndex;Created;CreatedBy;Modified;IsPublic;ActualStartDate;ActualFinishDate",request.R2_RequestDataGroup="DataGroup.muc-tieu.091fb",request.R2_IncludedNestedSetParent=!0,request.R2_OrderFields="Created desc",ctrl.$Utils.postCheckResult(request).then(function(result){var data=ctrl.$Utils.getDataWithRoot(result.R1,"Data.DynamicDS.Setting");ctrl.targetLst=data.filter(function(e){return!(e.Code&&"xSetting.Project.Parameter.Organization.Target"===e.Code)});var listObj={};if(ctrl.$Utils.isEmpty(ctrl.targetLst,"0")){$.each(ctrl.targetLst,function(e,t){listObj[t.Id]=t}),ctrl.RootLevel=ctrl.targetLst[0].Level,ctrl.targets={};var indexOfRoot=void 0;ctrl.targetLst.filter(function(value,key){ctrl.targets[value.Id]?(data[key].numChildren=ctrl.targets[value.Id].numChildren,ctrl.targets[data[key].Id]=data[key]):ctrl.targets[data[key].Id]=data[key],ctrl.targets[data[key].ParentId]?ctrl.targets[data[key].ParentId].numChildren=(ctrl.targets[data[key].ParentId].numChildren?ctrl.targets[data[key].ParentId].numChildren:0)+1:(ctrl.targets[data[key].ParentId]={},ctrl.targets[data[key].ParentId].numChildren=1);var childRank=ctrl.$Utils.isEmpty(listObj[value.ParentId])?eval(listObj[value.ParentId].Level-ctrl.RootLevel+1):eval(value.Level-ctrl.RootLevel);for(ctrl.targetLst[key].text="";childRank>0;)ctrl.targetLst[key].text+="|-- ",childRank--;ctrl.targetLst[key].text+=value.Name;var isLeaderOfTarget=!1;void 0!=user.GroupRoles&&void 0!=user.GroupRoles.Leader&&ctrl.targetLst[key].Value&&ctrl.targetLst[key].Value.split(";").length>0&&user.GroupRoles.Leader.split(";").filter(function(e,t){ctrl.targetLst[key].Value.indexOf(e)>-1&&(isLeaderOfTarget=!0)}),ctrl.$isSystemAdmin()||ctrl.$isMantisAdmin()||isLeaderOfTarget&&"3"===ctrl.targetLst[key].TargetType?ctrl.targetLst[key].Permission="Manage":isLeaderOfTarget&&"2"===ctrl.targetLst[key].TargetType||isLeaderOfTarget&&"1"===ctrl.targetLst[key].TargetType||ctrl.targetLst[key].Owner&&ctrl.targetLst[key].Owner.indexOf(user.UserId)>-1||ctrl.targetLst[key].Assigned&&ctrl.targetLst[key].Assigned.indexOf(user.UserId)>-1?ctrl.targetLst[key].Permission="Edit":ctrl.targetLst[key].Permission="View",ctrl.targetLst[key]&&void 0!==ctrl.targetLst[key].Code&&"5"===ctrl.targetLst[key].Level&&(ctrl.ParentId=ctrl.$Lodash.cloneDeep(ctrl.targetLst[key].Id),indexOfRoot=key)}),ctrl.targetSavedLst=ctrl.$Lodash.cloneDeep(ctrl.targetLst),void 0!=indexOfRoot&&(ctrl.targetLst.splice(indexOfRoot,1),data.splice(indexOfRoot,1))}var lst=ctrl.$Utils.getDataWithRoot(result.R2,"Data.DynamicDS.Setting");if($.each(lst,function(e,t){void 0!=t.Code&&"5"===t.Level&&(ctrl.ParentId=ctrl.$Lodash.cloneDeep(t.Id))}),ctrl.$Utils.isEmpty(ctrl.StartDateFilter)&&ctrl.$Utils.isEmpty(ctrl.EndDateFilter)){var temp=ctrl.$Lodash.cloneDeep(data),lst=[];$.each(temp,function(e){if(ctrl.$Utils.isEmpty(e)){var t=new Date(e.ActualStartDate),a=new Date(e.ActualFinishDate);t.getTime()>=ctrl.StartDateFilter.getTime()&&t.getTime()<=ctrl.EndDateFilter.getTime()&&a.getTime()>=ctrl.StartDateFilter.getTime()&&a.getTime()<=ctrl.EndDateFilter.getTime()&&lst.push(e)}}),data=lst}ctrl.filterChanged(ctrl.filter)})},getRecentWeeks:function(e){var t=0,a=[],r=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().week();__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().isoWeekday()>=5&&(r+=1);for(var s=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment((new Date).setTime((new Date).getTime()-308448e5)),i=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment((new Date).setTime((new Date).getTime()+308448e5)),t=i;t>s;t=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(t._d.setTime(t._d.getTime()-6048e5))){var n=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(t._d).isoWeekday(e).startOf("isoweek")._d,l=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(t._d).isoWeekday(e).endOf("isoweek")._d,o={name:"Tuần "+t.week(),text:this.$Utils.formatDateTime(n,"DD/MM/YYYY")+" -> "+this.$Utils.formatDateTime(l,"DD/MM/YYYY"),value:n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+" 00:00:00"};a.push(o)}return a},getRecentMonthsAndQuarters:function(){for(var e=-6;e<6;e++){var t=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().add(e,"months"),a={name:"Tháng "+(t._d.getMonth()+1)+" năm "+t._d.getFullYear(),value:t._d.getFullYear()+"/"+(t._d.getMonth()+1)+"/"+t.startOf("month")._d.getDate()+" 00:00:00"};this.months.push(a)}for(var e=-4;e<4;e++){var t=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().add(e,"quarters"),r={name:"Quý "+t.quarter()+" năm "+t._d.getFullYear(),value:t.startOf("quarter")._d.getFullYear()+"/"+(t.startOf("quarter")._d.getMonth()+1)+"/"+t.startOf("quarter")._d.getDate()+" 00:00:00"};this.quarters.push(r)}}},created:function(){this.getRecentMonthsAndQuarters();var e=this;e.getTargets();var t=JSON.parse(e.$getItemLocalStorage(e.$localStorageConstant.LoggedOnUser));t.Groups.filter(function(e){"Leader"!==e.GroupName&&"Director"!==e.GroupName||(void 0==t.GroupRoles?(t.GroupRoles={},t.GroupRoles[e.GroupName]=e.GroupParent):t.GroupRoles[e.GroupName]+=";"+e.GroupParent)}),e.$setItemLocalStorage("LoggedOnUser",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(t)),e.headers=[],e.listDates=[{name:"Tháng 1",value:1,type:"Tháng"},{name:"Tháng 2",value:2,type:"Tháng"},{name:"Tháng 3",value:3,type:"Tháng"},{name:"Tháng 4",value:4,type:"Tháng"},{name:"Tháng 5",value:5,type:"Tháng"},{name:"Tháng 6",value:6,type:"Tháng"},{name:"Tháng 7",value:7,type:"Tháng"},{name:"Tháng 8",value:8,type:"Tháng"},{name:"Tháng 9",value:9,type:"Tháng"},{name:"Tháng 10",value:10,type:"Tháng"},{name:"Tháng 11",value:11,type:"Tháng"},{name:"Tháng 12",value:12,type:"Tháng"},{name:"Quý 1",value:1,type:"Quý"},{name:"Quý 2",value:2,type:"Quý"},{name:"Quý 3",value:3,type:"Quý"},{name:"Quý 4",value:4,type:"Quý"}],e.listGroupsDate=e.listDates.reduce(function(e,t){return-1===e.indexOf(t.type)&&e.push(t.type),e},[]),e.tasks=[],e.ProgressColor=[15,30,45,60,75,90,105],e.ListPlan=[],e.DateTime=[[{key:"DayAgo",value:"Hôm trước"},{key:"Day",value:"Hôm nay"},{key:"DayNext",value:"Hôm sau"}],[{key:"WeekAgo",value:"Tuần trước"},{key:"Week",value:"Tuần này"},{key:"WeekNext",value:"Tuần sau"}],[{key:"MonthAgo",value:"Tháng trước"},{key:"Month",value:"Tháng này"},{key:"MonthNext",value:"Tháng sau"}]],e.datasource=[],e.notifications=[],e.taskIndex=[],e.listSubscribe=[],e.isSystemAdmin=e.$isSystemAdmin(),e.isMantisAdmin=e.$isMantisAdmin(),e.prefix=e.$isMobile.iOS()?"/":"",e.indexx=1,e.ListType=[{Id:"1",Name:"Mục tiêu công ty"},{Id:"2",Name:"Mục tiêu phòng ban"},{Id:"3",Name:"Mục tiêu cá nhân"}],e.SettingList={},e.showFilter=!1,e.model={},e.listData=[],e.thisYear=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment().year(),e.getWorker(),e.getVersionProject();var a=e.$Lodash.cloneDeep(e.$singleRequest);a.R1_RequestTemplate="OrgnizationList",a.R1_GroupType=1,e.$Utils.post(a).then(function(t){e.ListGroup=e.$Utils.getDataWithRoot(t.R1,"Data.UserDS.Group"),e.$Utils.isEmpty(e.ListGroup,"0")&&$.each(e.ListGroup,function(t,a){var r=a.Level;for(e.ListGroup[t].text="";r>1;)e.ListGroup[t].text+="|-- ",r--;e.ListGroup[t].text+=a.GroupName})}),e.filteredListGroup=this.$Utils.getUserInfo("Groups").filter(function(e){return"1"===e.GroupType});var r=e.$Lodash.cloneDeep(e.$singleRequest);r.R1_RequestTemplate="SettingNew.SearchSetting",r.R1_Code="DataGroup.muc-tieu.091fb",e.$Utils.post(r).then(function(t){e.targetFields=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting.F1")}),e.TargetTab="weekTargets","/"!=e.$appUri.BaseURL?e.baseUri=e.$appUri.BaseURL:e.baseUri="",e.Show=[],e.Showa=!0,e.Type="Target",e.TypeName="Mục tiêu",e.Target=0,e.isMantisAdmin?e.filter.targetTypeId="1":e.filter.targetTypeId="3";var s=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(new Date).isoWeekday(e.firstDayOfWeekCfg).startOf("isoweek")._d;e.filter.startDateValue=s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+" 00:00:00"}}}).call(__webpack_exports__,__webpack_require__(2))},1021:function(e,t,a){"use strict";function r(e){a(1022)}var s=a(1024),i=a(1025),n=a(1),l=r,o=n(s.a,i.a,!1,l,"data-v-5bd6173c",null);t.a=o.exports},1022:function(e,t,a){var r=a(1023);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(876)("76e9ff8c",r,!0)},1023:function(e,t,a){t=e.exports=a(875)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"BlockLeftPanelTarget.vue",sourceRoot:""}])},1024:function(e,t,a){"use strict";t.a={props:["title","vList","fnOpenDetail"],data:function(){return{list:[]}},watch:{vList:function(e){}}}},1025:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"headerMenu"},[e._v(e._s(e.title))]),e._v(" "),e._l(e.vList,function(t){return a("el-card",{key:t.Id,staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("a",{attrs:{href:"javaScript:void(0)"},on:{click:function(a){e.fnOpenDetail(t,!1)}}},[e._v(e._s(t.Name))]),e._v(" "),a("div",{staticClass:"owner"},[1==t.TargetType?a("i",{staticClass:"fa fa-users fa-lg mt-4"},[e._v(" "+e._s(t.GroupName))]):e._e(),e._v(" "),1!=t.TargetType?a("i",{staticClass:"fa fa-user fa-lg mt-4"},[e._v(e._s(t.OwnerName))]):e._e()])]),e._v(" "),a("div",{staticClass:"bdCt text item"},[t.TargetType?a("div",{staticClass:"tgSt"},[a("b",[e._v("Loại:")]),e._v(" "+e._s(t.TargetTypeName))]):e._e(),e._v(" "),1!=t.TargetType?a("div",{staticClass:"tgSt"},[a("b",[e._v("Phòng:")]),e._v(" "+e._s(t.GroupName))]):e._e(),e._v(" "),1==t.TargetType?a("div",{staticClass:"tgSt"},[a("b",[e._v("Quản lý:")]),e._v(" "+e._s(t.OwnerName))]):e._e(),e._v(" "),a("div",{attrs:{layout:"row"}},[a("span",[a("b",{staticStyle:{"white-space":"nowrap"}},[e._v("Tỉ lệ:")])]),e._v(" "),a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:parseFloat(t.Progress),status:t.Progress?parseFloat(t.Progress)>=100?"success":0===parseFloat(t.Progress)?"exception":"":"exception"}})],1),e._v(" "),a("div",{staticClass:"tgSt"},[a("b",[e._v("Người thực hiện:")]),e._v(" "+e._s(t.AssignedName))]),e._v(" "),a("div",{staticClass:"tgSt"},[a("b",[e._v("Cập nhật:")]),e._v(" "+e._s(t.Modified))])])])})],2)},s=[],i={render:r,staticRenderFns:s};t.a=i},1026:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{attrs:{id:"target-part"}},[a("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],staticClass:"hidden-xs-only",staticStyle:{"background-color":"rgb(238, 241, 246)"}},[a("BlockLeftPanelTarget",{attrs:{title:"Mục tiêu của tôi",vList:e.myTargetLst,fnOpenDetail:e.openTargetDetail}}),e._v(" "),a("BlockLeftPanelTarget",{attrs:{title:"Mục tiêu tôi quản lý",vList:e.myManagedTargetLst,fnOpenDetail:e.openTargetDetail}}),e._v(" "),a("BlockLeftPanelTarget",{attrs:{title:"Mục tiêu được xem",vList:e.publicTargetLst,fnOpenDetail:e.openTargetDetail}})],1),e._v(" "),a("div",{staticClass:"hidden-xs-only",staticStyle:{cursor:"pointer"},on:{click:function(t){e.onShowMenu(e.showMenu)}}},[e.showMenu?e._e():a("el-tooltip",{attrs:{content:"Mở rộng",placement:"top"}},[a("i",{staticClass:"fa fa-chevron-circle-right fa-lg mt-4 pl-1 pr-1"})]),e._v(" "),e.showMenu?a("el-tooltip",{attrs:{content:"Thu gọn",placement:"top"}},[a("i",{staticClass:"fa fa-chevron-circle-left fa-lg mt-4 pl-1 pr-1"})]):e._e()],1),e._v(" "),a("el-main",{staticStyle:{overflow:"hidden"},attrs:{id:"mainTarget"}},[a("div",{staticClass:"hidden-sm-and-up"},[a("el-collapse",[a("el-collapse-item",{attrs:{title:"Phân loại mục tiêu"}},[a("BlockLeftPanelTarget",{attrs:{title:"Mục tiêu của tôi",vList:e.myTargetLst,fnOpenDetail:e.openTargetDetail}}),e._v(" "),a("BlockLeftPanelTarget",{attrs:{title:"Mục tiêu tôi quản lý",vList:e.myManagedTargetLst,fnOpenDetail:e.openTargetDetail}}),e._v(" "),a("BlockLeftPanelTarget",{attrs:{title:"Mục tiêu được xem",vList:e.publicTargetLst,fnOpenDetail:e.openTargetDetail}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"space-between","font-size":"14px","padding-right":"8px"}},[a("div",{attrs:{span:1}}),e._v(" "),a("div",{staticClass:"my-row row"},[e.ListType&&"settingTargets"!==e.TargetTab?a("div",{staticClass:"col"},[a("el-select",{attrs:{placeholder:"Loại mục tiêu"},model:{value:e.filter.targetTypeId,callback:function(t){e.$set(e.filter,"targetTypeId",t)},expression:"filter.targetTypeId"}},e._l(e.ListType,function(t){return e.ListType.length>0?a("el-option",{key:t.Id,attrs:{label:t.Name,value:t.Id}}):e._e()}))],1):e._e(),e._v(" "),e.filteredListGroup&&"settingTargets"!==e.TargetTab?a("div",{staticClass:"col"},[a("el-select",{attrs:{multiple:"","collapse-tags":"",placeholder:"Phòng ban"},model:{value:e.filter.departmentIds,callback:function(t){e.$set(e.filter,"departmentIds",t)},expression:"filter.departmentIds"}},e._l(e.filteredListGroup,function(e){return a("el-option",{key:e.Id,attrs:{label:e.GroupName,value:e.GroupId}})}))],1):e._e(),e._v(" "),"settingTargets"!==e.TargetTab?a("div",{staticClass:"col"},[a("el-select",{attrs:{placeholder:"Lọc nhân sự",size:"mini",multiple:"","collapse-tags":""},model:{value:e.filter.selectedWorkers,callback:function(t){e.$set(e.filter,"selectedWorkers",t)},expression:"filter.selectedWorkers"}},e._l(e.ListWorker,function(t){return-1==t.UserId.indexOf(";")?a("el-option",{key:t.UserId,attrs:{label:t.Username,value:t.UserId}}):e._e()}))],1):e._e(),e._v(" "),a("div",[a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:"settingTargets"===e.TargetTab,expression:"TargetTab === 'settingTargets'"}],attrs:{size:"mini"},on:{change:e.changeFilterDateType},model:{value:e.dateFilterType,callback:function(t){e.dateFilterType=t},expression:"dateFilterType"}},[a("el-radio-button",{attrs:{label:"week"}},[e._v("Tuần")]),e._v(" "),a("el-radio-button",{attrs:{label:"month"}},[e._v("Tháng")]),e._v(" "),a("el-radio-button",{attrs:{label:"quarter"}},[e._v("Quý")])],1)],1),e._v(" "),a("div",{staticClass:"col"},["week"===e.dateFilterType&&e.weeks?a("el-select",{attrs:{placeholder:"Tuần"},on:{clear:function(t){e.filter.startDateValue=""}},model:{value:e.filter.startDateValue,callback:function(t){e.$set(e.filter,"startDateValue",t)},expression:"filter.startDateValue"}},e._l(e.weeks,function(t){return e.weeks.length>0?a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name)+"     ")]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.text))])]):e._e()})):"month"===e.dateFilterType&&e.months?a("el-select",{attrs:{placeholder:"Tháng"},on:{clear:function(t){e.filter.startDateValue=""}},model:{value:e.filter.startDateValue,callback:function(t){e.$set(e.filter,"startDateValue",t)},expression:"filter.startDateValue"}},e._l(e.months,function(t){return e.months.length>0?a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}}):e._e()})):"quarter"===e.dateFilterType&&e.quarters?a("el-select",{attrs:{placeholder:"Quý"},on:{clear:function(t){e.filter.startDateValue=""}},model:{value:e.filter.startDateValue,callback:function(t){e.$set(e.filter,"startDateValue",t)},expression:"filter.startDateValue"}},e._l(e.quarters,function(t){return e.quarters.length>0?a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}}):e._e()})):e._e()],1)])]),e._v(" "),a("el-tabs",{on:{"tab-click":e.changeTab},model:{value:e.TargetTab,callback:function(t){e.TargetTab=t},expression:"TargetTab"}},[a("el-tab-pane",{attrs:{label:"Mục tiêu tuần",name:"weekTargets"}},["weekTargets"===e.TargetTab&&e.Display?a("div",{attrs:{id:"configuration-list-detail"}},[a("WeekTarget",{attrs:{datasrc:e.dataToPass}})],1):e._e()]),e._v(" "),a("el-tab-pane",{attrs:{label:"Công việc tuần",name:"weekTasks"}},["weekTasks"==e.TargetTab&&e.Display?a("div",{attrs:{flex:""}},[a("WeekTask",{attrs:{datasrc:e.dataToPass}})],1):e._e()]),e._v(" "),a("el-tab-pane",{attrs:{label:"Nhập mục tiêu",name:"settingTargets"}},["settingTargets"==e.TargetTab&&e.Display?a("div",{attrs:{flex:""}},[a("TargetSetting",{attrs:{options:{key:"Id",parentKey:"ParentId",levelKey:"Level",rootLevel:6},typeLst:e.ListType,workerLst:e.ListWorker,departmentLst:e.ListGroup,targetLst:e.targetLst,targetFieldLst:e.targetFields,getTargets:e.getTargets,getObject:e.getObject,rootId:e.ParentId,targetSavedLst:e.targetSavedLst}})],1):e._e()])],1)],1)],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},877:function(e,t,a){"use strict";function r(e){a(920)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(922),i=a(923),n=a(1),l=r,o=n(s.a,i.a,!1,l,"data-v-0318de66",null);t.default=o.exports},878:function(e,t,a){"use strict";function r(e){a(924)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(926),i=a(927),n=a(1),l=r,o=n(s.a,i.a,!1,l,null,null);t.default=o.exports},879:function(e,t,a){"use strict";function r(e){a(928)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(930),i=a(940),n=a(1),l=r,o=n(s.a,i.a,!1,l,null,null);t.default=o.exports},891:function(e,t,a){"use strict";function r(e){a(1018)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(1020),i=a(1026),n=a(1),l=r,o=n(s.a,i.a,!1,l,null,null);t.default=o.exports},902:function(e,t,a){!function(t,a){e.exports=a()}(0,function(){return function(e){function t(r){if(a[r])return a[r].exports;var s=a[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.dragscroll={init:function(e,t){var a=void 0,r=void 0,s=function(){var s=void 0,i=void 0,n=void 0;e.addEventListener("mousedown",e.md=function(a){var r="nochilddrag"===t.arg,l="firstchilddrag"===t.arg,o=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)===e,d=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)===e.firstChild,u=function(e){n=1,s=e.clientX,i=e.clientY,e.preventDefault()};r?o&&u(a):l?(o||d)&&u(a):u(a)},0),window.addEventListener("mouseup",e.mu=function(){n=0},0),window.addEventListener("mousemove",e.mm=function(l){n&&(t.modifiers.x?(e.scrollLeft-=a=-s+(s=l.clientX),e===document.body&&(e.scrollLeft-=a)):t.modifiers.y?(e.scrollTop-=r=-i+(i=l.clientY),e===document.body&&(e.scrollTop-=r)):(e.scrollLeft-=a=-s+(s=l.clientX),e.scrollTop-=r=-i+(i=l.clientY),e===document.body&&(e.scrollLeft-=a,e.scrollTop-=r)))},0)};void 0===t.value||!0===t.value?"complete"===document.readyState?s():window.addEventListener("load",s,0):(t.value&&console.error("The passed value should be either 'undefined', 'true' or 'false'."),e.removeEventListener("mousedown",e.md,0),window.removeEventListener("mouseup",e.mu,0),window.removeEventListener("mousemove",e.mm,0))},bind:function(e,t,a){t.def.init(e,t)},update:function(e,t,a,r){t.value!==t.oldValue&&t.def.init(e,t)},unbind:function(e,t,a){e.removeEventListener("mousedown",e.md,0),window.removeEventListener("mouseup",e.mu,0),window.removeEventListener("mousemove",e.mm,0)}},s={install:function(e,t){e.directive("dragscroll",r)}};"undefined"!=typeof window&&window.Vue&&(window.VueDragscroll=s,window.Vue.use(s)),t.default=s}])})},919:function(e,t,a){"use strict";function r(e){a(931)}var s=a(933),i=a(939),n=a(1),l=r,o=n(s.a,i.a,!1,l,"data-v-4ccba1ba",null);t.a=o.exports},920:function(e,t,a){var r=a(921);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(876)("43e2cd04",r,!0)},921:function(e,t,a){t=e.exports=a(875)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"WeekTarget.vue",sourceRoot:""}])},922:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll__=__webpack_require__(902),__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll__);__WEBPACK_IMPORTED_MODULE_0_vue__.default.use(__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll___default.a),__WEBPACK_IMPORTED_MODULE_0_vue__.default.use(__webpack_require__(37)),__webpack_exports__.a={name:"WeekTarget",component:{},props:["datasrc"],data:function(){return{}},methods:{convertSpendTime:function convertSpendTime(data){var exp="";return exp=Math.abs(data)>=24?parseFloat(eval(data)/24).toFixed(0)+" ngày":0!=data?data+" giờ":data},getWeekthisYear:function(){this.arrWeek=[];var e=moment().week();__WEBPACK_IMPORTED_MODULE_0_vue__.default.moment().isoWeekday()>=5&&(e+=1);for(var t=e;t>0;t--){var a=__WEBPACK_IMPORTED_MODULE_0_vue__.default.moment(this.thisYear.toString(),"YYYY").add(t,"weeks").startOf("isoweek").format("DD/MM/YYYY"),r=__WEBPACK_IMPORTED_MODULE_0_vue__.default.moment(this.thisYear.toString(),"YYYY").add(t,"weeks").endOf("isoweek").format("DD/MM/YYYY"),s={name:"Tuần "+t+" ("+a+" - "+r+")",value:t};this.arrWeek.push(s)}this.model.WeekNumber=__WEBPACK_IMPORTED_MODULE_0_vue__.default.moment().isoWeek(),this.bindObjWeek()},bindObjWeek:function(){this.isWeek="true",this.firstDayOfWeek(this.thisYear,this.model.WeekNumber,!0)},firstDayOfWeek:function(e,t,a){this.model.PlanStartDateStartValue=new Date(e,0,1);var r=this.model.PlanStartDateStartValue.getTimezoneOffset();this.model.PlanStartDateStartValue.setDate(this.model.PlanStartDateStartValue.getDate()+4-(this.model.PlanStartDateStartValue.getDay()||7)),this.model.PlanStartDateStartValue.setTime(this.model.PlanStartDateStartValue.getTime()+6048e5*(t+(e==this.model.PlanStartDateStartValue.getFullYear()?-1:0))),this.model.PlanStartDateStartValue.setTime(this.model.PlanStartDateStartValue.getTime()+60*(this.model.PlanStartDateStartValue.getTimezoneOffset()-r)*1e3),this.model.PlanStartDateStartValue.setDate(this.model.PlanStartDateStartValue.getDate()-3);var s=angular.copy(this.model.PlanStartDateStartValue);s.setDate(this.model.PlanStartDateStartValue.getDate()-this.model.PlanStartDateStartValue.getDay()+(0==this.model.PlanStartDateStartValue.getDay()?-6:1)+6),s.setHours(23,59,59),this.model.PlanStartDateEndValue=s,a||this.getObject()}},created:function(){}}},923:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll"}],staticClass:"el-table__body-wrapper grab-bing"},[a("table",[a("thead",[a("tr",[a("th",{staticClass:"default-column",attrs:{rowspan:"2"}},[e._v("Stt")]),e._v(" "),a("th",{staticClass:"mt",attrs:{rowspan:"2"}},[e._v("Mục tiêu / Công việc")]),e._v(" "),a("th",{staticClass:"default-column",attrs:{rowspan:"2"}},[e._v("KPIs kế hoạch")]),e._v(" "),a("th",{staticClass:"default-column",attrs:{rowspan:"2"}},[e._v("KPIs đạt được")]),e._v(" "),a("th",{staticClass:"default-column",attrs:{rowspan:"2"}},[e._v("Hoàn thành")]),e._v(" "),a("th",{staticClass:"c",attrs:{rowspan:"2"}}),e._v(" "),e.datasrc.ListCols["Kế hoạch"]?a("th",{attrs:{colspan:e.datasrc.ListCols["Kế hoạch"].length}},[e._v("Kế hoạch")]):e._e(),e._v(" "),a("th",{staticClass:"c",attrs:{rowspan:"2"}}),e._v(" "),e.datasrc.ListCols["Thực hiện"]?a("th",{attrs:{colspan:e.datasrc.ListCols["Thực hiện"].length}},[e._v("Thực hiện")]):e._e()]),e._v(" "),a("tr",[e._l(e.datasrc.ListCols["Kế hoạch"],function(t){return e.datasrc.ListCols["Kế hoạch"]?a("th",{staticClass:"default-column",class:"cl-"+t.Name},[e._v(e._s(t.Caption))]):e._e()}),e._v(" "),e._l(e.datasrc.ListCols["Thực hiện"],function(t){return e.datasrc.ListCols["Thực hiện"]?a("th",{staticClass:"default-column",class:"cl-"+t.Name},[e._v(e._s(t.Caption))]):e._e()})],2)]),e._v(" "),a("tbody",e._l(e.datasrc.cells,function(t){return e.datasrc.cells?a("tr",{class:void 0!=t.CellType?t.CellType:" Level"+t.Index},[a("td",{staticClass:"default-column"},[a("span",{class:t.Index.length>1?"":"caption"},[e._v(e._s(t.Index))])]),e._v(" "),a("td",[a("span",{staticClass:"icon Level"}),e._v(" "),"h"==t.CellType?a("span",[e._v("\n                              "+e._s(t.Name)+"\n                          ")]):e._e(),e._v(" "),"h"!=t.CellType?a("router-link",{attrs:{to:"/dynamic/view/Index="+t.Index}},[e._v(e._s(t.Name))]):e._e()],1),e._v(" "),a("td",{staticClass:"default-column"},[e._v(e._s(t.TargetPlan)+e._s(t.Unit))]),e._v(" "),a("td",{staticClass:"default-column"},[e._v(e._s(t.TargetDone)+e._s(t.Unit))]),e._v(" "),a("td",{staticClass:"default-column"},["h"==t.CellType?a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:t.TargetProgress?parseInt(t.TargetProgress):0,status:t.TargetProgress?parseInt(t.TargetProgress)>=100?"success":0==parseInt(t.TargetProgress)?"exception":"":"exception"}}):e._e()],1),e._v(" "),a("td",{staticClass:"c default-column",staticStyle:{"border-right":"1px solid #ddd !important"}}),e._v(" "),e._l(e.datasrc.ListCols["Kế hoạch"],function(r){return e.datasrc.ListCols["Kế hoạch"]?a("td",{class:"default-column tg-"+r.Name},[r.Redirect?a("router-link",{attrs:{to:"/dynamic/view/Index="+t.Index}},[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]))]):e._e(),e._v(" "),r.Format&&"DateTime"==r.FieldColumnType?a("span",[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]?e.$Utils.formatDateTime(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name],"h"==t.CellType?"DD/MM/YYYY":"DD/MM/YYYY HH:mm"):""))]):e._e(),e._v(" "),"DateTime"==r.FieldColumnType||r.Redirect?e._e():a("span",[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]))])],1):e._e()}),e._v(" "),a("td",{staticClass:"c default-column",staticStyle:{"border-right":"1px solid #ddd !important"}}),e._v(" "),e._l(e.datasrc.ListCols["Thực hiện"],function(r){return e.datasrc.ListCols["Thực hiện"]?a("td",{class:"default-column tg-"+r.Name},[r.Redirect?a("router-link",{attrs:{to:"/dynamic/view/Index="+t.Index}},[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]))]):e._e(),e._v(" "),"SpentTime"==r.Expression?a("a",[e._v(e._s(e.convertSpendTime(t.SpentTime))+"\n                             "),"h"!=t.CellType?a("i",{staticClass:"fa  fa-clock-o fa-lg mt-4",style:{color:t.SpentTime<0?"red":"blue"}}):e._e()]):e._e(),e._v(" "),"Progress"==r.Name&&"h"!=t.CellType?a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:t.Progress?parseInt(t.Progress):0,status:void 0!=t.Progress?parseInt(t.Progress)>=100?"success":0==parseInt(t.Progress)?"exception":"":"exception"}}):e._e(),e._v(" "),"Progress"==r.Name&&"h"==t.CellType?a("span",[e._v(e._s(t.Progress)+"%")]):e._e(),e._v(" "),r.Format&&"DateTime"==r.FieldColumnType?a("span",[e._v(e._s(e.$Utils.formatDateTime(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name],"DD/MM/YYYY HH:mm")))]):e._e(),e._v(" "),"DateTime"==r.FieldColumnType||r.Redirect||"SpentTime"==r.Expression||"Progress"==r.Name?e._e():a("div",{style:"h"!=t.CellType&&void 0!=t.Status&&"StatusName"===r.Name?"background-color: "+e.$rootScope.arrStatusColor[t.Status.toUpperCase()]:""},[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]))])],1):e._e()})],2):e._e()}))])])},s=[],i={render:r,staticRenderFns:s};t.a=i},924:function(e,t,a){var r=a(925);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(876)("104cab50",r,!0)},925:function(e,t,a){t=e.exports=a(875)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"WeekTask.vue",sourceRoot:""}])},926:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll__=__webpack_require__(902),__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll__);__WEBPACK_IMPORTED_MODULE_0_vue__.default.use(__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll___default.a),__WEBPACK_IMPORTED_MODULE_0_vue__.default.use(__webpack_require__(37)),__webpack_exports__.a={name:"WeekTask",props:["datasrc"],data:function(){return{}},methods:{convertSpendTime:function convertSpendTime(data){var exp="";return exp=Math.abs(data)>=24?parseFloat(eval(data)/24).toFixed(0)+" ngày":0!=data?data+" giờ":data}}}},927:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"source"},[a("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll"}],staticClass:"el-table__body-wrapper grab-bing"},[a("table",[a("thead",[a("tr",[a("th",{staticClass:"tgWeek default-column",attrs:{rowspan:"2"}},[e._v(e._s(e.datasrc.TypeName))]),e._v(" "),a("th",{staticClass:"default-column",attrs:{colspan:e.datasrc.ListCols["Kế hoạch"].length}},[e._v("Kế hoạch")]),e._v(" "),a("th",{staticClass:"c default-column",attrs:{rowspan:"2"}}),e._v(" "),e.datasrc.ListCols["Thực hiện"]?a("th",{staticClass:"default-column",attrs:{colspan:e.datasrc.ListCols["Thực hiện"].length}},[e._v("Thực hiện")]):e._e()]),e._v(" "),a("tr",[e._l(e.datasrc.ListCols["Kế hoạch"],function(t){return a("th",{class:"default-column cl-"+t.Name},[e._v(e._s(t.Caption))])}),e._v(" "),e._l(e.datasrc.ListCols["Thực hiện"],function(t){return a("th",{class:"default-column cl-"+t.Name},[e._v(e._s(t.Caption))])})],2)]),e._v(" "),e.datasrc.cells?a("tbody",e._l(e.datasrc.cells,function(t){return a("tr",{class:t.CellType},[a("td",{staticClass:"default-column",attrs:{colspan:"h"==t.CellType?2:1}},["h"!=t.CellType?a("router-link",{attrs:{to:"/dynamic/view/Index="+t.Index},on:{click:function(t){e.showSetting(e.item)}}},[e._v(e._s(t.Index))]):e._e(),e._v(" "),"h"==t.CellType?a("span",[e._v(e._s(t.Index))]):e._e()],1),e._v(" "),e._l(e.datasrc.ListCols["Kế hoạch"],function(r,s){return"h"!=t.CellType||0!=s?a("td",{class:"tg-"+r.Name},[r.Redirect?a("router-link",{attrs:{to:"/dynamic/view/Index="+t.Index}},[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]))]):e._e(),e._v(" "),r.Format&&"DateTime"==r.FieldColumnType?a("span",[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]?e.$Utils.formatDateTime(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name],"h"==t.CellType?"DD/MM/YYYY":"HH:mm"):""))]):e._e(),e._v(" "),"DateTime"==r.FieldColumnType||r.Redirect?e._e():a("span",[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]))])],1):e._e()}),e._v(" "),a("td",{staticClass:"default-column c"}),e._v(" "),e._l(e.datasrc.ListCols["Thực hiện"],function(r){return a("td",{class:"default-column tg-"+r.Name},[r.Redirect?a("router-link",{attrs:{to:"/dynamic/view/Index="+t.Index}},[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]))]):e._e(),e._v(" "),"SpentTime"==r.Expression?a("span",{staticStyle:{"white-space":"nowrap"}},[e._v(e._s(e.convertSpendTime(t.SpentTime))+"\n                      "),"h"!=t.CellType?a("i",{staticClass:"fa  fa-clock-o fa-lg mt-4",style:{color:t.SpentTime<0?"red":"blue"}}):e._e()]):e._e(),e._v(" "),"Progress"==r.Name&&"h"!=t.CellType?a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:t.Progress?parseInt(t.Progress):0,status:void 0!=t.Progress?parseInt(t.Progress)>=100?"success":0==parseInt(t.Progress)?"exception":"":"exception"}}):e._e(),e._v(" "),"Progress"==r.Name&&"h"==t.CellType?a("span",[e._v(e._s(t.Progress)+"%")]):e._e(),e._v(" "),r.Format&&"DateTime"==r.FieldColumnType?a("span",[e._v(e._s(e.$Utils.formatDateTime(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name],"DD/MM/YYYY HH:mm")))]):e._e(),e._v(" "),"DateTime"==r.FieldColumnType||r.Redirect||"SpentTime"==r.Expression||"Progress"==r.Name?e._e():a("div",{style:"h"!=t.CellType&&void 0!=t.Status&&"StatusName"===r.Name?"background-color: "+e.$rootScope.arrStatusColor[t.Status.toUpperCase()]:""},[e._v(e._s(t[r.DynamicText?r.DynamicText:r.Expression?r.Expression:r.Name]))])],1)})],2)})):e._e()])])])},s=[],i={render:r,staticRenderFns:s};t.a=i},928:function(e,t,a){var r=a(929);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(876)("4909c504",r,!0)},929:function(e,t,a){t=e.exports=a(875)(!0),t.push([e.i,"#tTbl #plusBtn{position:fixed;top:120px;right:30px;z-index:99;cursor:pointer}","",{version:3,sources:["D:/projects/bos/vuejs/src/components/static/TargetSetting.vue"],names:[],mappings:"AACA,eACE,eAAgB,AAChB,UAAW,AACX,WAAY,AACZ,WAAY,AACZ,cAAgB,CACjB",file:"TargetSetting.vue",sourcesContent:["\n#tTbl #plusBtn {\n  position: fixed;\n  top: 120px;\n  right: 30px;\n  z-index: 99;\n  cursor: pointer;\n}\n"],sourceRoot:""}])},930:function(e,t,a){"use strict";var r=a(3),s=a(103),i=a(104),n=a.n(i),l=a(919);r.default.use(a(37)),t.a={props:["targetLst","options","typeLst","workerLst","departmentLst","targetFieldLst","getTargets","getObject","rootId","targetSavedLst"],components:{ElTreeGrid:n.a,ElTableTreeColumn:s.a},data:function(){return{dtSrc:[],userWithAvatarLst:[],editableUser:!1}},methods:{loadAvatar:function(e){return void 0==e&&(e="assets/images/avatars/profile.png"),e=e.replace("profile.jpg","profile.png"),"assets/images/avatars/profile.png"===e?this.$appUri.BaseURL+e:this.$appUri.BaseURL+e.replace("/","")+"&Height=50&Width=50"},openTargetDetail:function(e){var t={item:e,workers:this.workerLst,isEditable:!1,targetLst:this.targetLst,departmentLst:this.departmentLst,disabled:!0,targetFields:JSON.parse(this.targetFieldLst),getTargets:this.getTargets,getObject:this.getObject,targetSavedLst:this.targetSavedLst};this.$hub.$emit("set-modal-data","","50%",!0,"center",l.a,!1,"",t,!0),this.$hub.$emit("open-modal")},addNewTarget:function(){if(!this.targetFieldLst||this.targetFieldLst.constructor==Array){var e={item:{},workers:this.workerLst,departments:this.departmentLst,isEditable:!0,targetLst:this.targetLst,departmentLst:this.departmentLst,disabled:!1,targetFields:JSON.parse(this.targetFieldLst),rootId:this.rootId,getTargets:this.getTargets,getObject:this.getObject,targetSavedLst:this.targetSavedLst};this.$hub.$emit("set-modal-data","","50%",!0,"center",l.a,!1,"",e,!1),this.$hub.$emit("open-modal")}}},watch:{targetLst:function(e){this.dtSrc=this.$Utils.treeify(e,this.options.key,this.options.parentKey,"level")}},created:function(){this.userWithAvatarLst=this.$Utils.rotateDementionArr(this.workerLst,"UserId"),this.targetsObj=this.$Utils.rotateDementionArr(this.typeLst,"Id"),this.dtSrc=this.$Utils.treeify(this.targetLst,this.options.key,this.options.parentKey,"level");var e=JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.LoggedOnUser));this.$isSystemAdmin()||this.$isMantisAdmin()?this.editableUser=!0:e.GroupRoles?(e.GroupRoles.Leader&&e.GroupRoles.Leader.indexOf(e.Project.GroupId)>-1||e.GroupRoles.Director&&e.GroupRoles.Director.indexOf(e.Project.GroupId)>-1)&&(this.editableUser=!0):this.editableUser=!1}}},931:function(e,t,a){var r=a(932);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(876)("46a499d8",r,!0)},932:function(e,t,a){t=e.exports=a(875)(!0),t.push([e.i,"@media only screen and (max-width:768px){.el-input[data-v-4ccba1ba],.el-radio[data-v-4ccba1ba],.el-select[data-v-4ccba1ba]{width:100%}.el-radio[data-v-4ccba1ba]{margin-left:0!important}}","",{version:3,sources:["D:/projects/bos/vuejs/src/components/static/TargetDialog.vue"],names:[],mappings:"AACA,yCAEA,kFACI,UAAY,CACf,AACD,2BACI,uBAA4B,CAC/B,CACA",file:"TargetDialog.vue",sourcesContent:["\n@media only screen and (max-width: 768px) {\n  /* For mobile phones: */\n.el-input[data-v-4ccba1ba], .el-select[data-v-4ccba1ba], .el-radio[data-v-4ccba1ba] {\n    width: 100%;\n}\n.el-radio[data-v-4ccba1ba] {\n    margin-left: 0px !important;\n}\n}\n"],sourceRoot:""}])},933:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1__components_dynamic_HistoryGrid__=__webpack_require__(934);__webpack_exports__.a={components:{HistoryGrid:__WEBPACK_IMPORTED_MODULE_1__components_dynamic_HistoryGrid__.a},props:["data"],data:function(){var e=this,t=JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.LoggedOnUser)),a=!this.$isMantisAdmin()&&!this.$isMantisAdmin()&&t.GroupRoles&&t.GroupRoles.Leader&&t.GroupRoles.Leader.indexOf(t.Project.GroupId)>-1,r={};return void 0!=this.data.item.Name?(r=this.$Lodash.cloneDeep(this.data.item),void 0==this.data.item.Assigned||this.$Utils.equals(this.data.item.Assigned,"")?r.Assigned=[]:r.Assigned=this.data.item.Assigned.split(";").filter(function(t){return!e.$Utils.equals(t,"")}),r.autoCal=!1,r.oldName=this.data.item.Name+"",r.IsPublic="0"!==r.IsPublic):(r.Name="",r.Value="",r.TargetType="",r.IsPublic=!0,r.ActualStartDate="",r.ActualFinishDate="",r.Assigned=[],r.ParentId="",r.Owner="",r.Plan="",r.Done="",r.Unit="",r.Progress=0,r.autoCal=!0,r.oldName=""),{isShowAllTarget:!1,oldObject:this.$Lodash.cloneDeep(r),typeLst:[{Id:"1",Name:"Mục tiêu công ty"},{Id:"2",Name:"Mục tiêu phòng ban"},{Id:"3",Name:"Mục tiêu cá nhân"}],ruleForm:r,isLeader:a,dataCopied:this.$Lodash.cloneDeep(this.data),viewHistoryModel:[],rules:{Name:[{required:!0,message:"Tên bắt buộc phải điền",trigger:"blur"}],Value:[{required:!0,message:"Phòng ban bắt buộc phải chọn",trigger:"change"}],ParentId:[{required:!0,message:"Mục tiêu cha bắt buộc phải chọn",trigger:"change"}]}}},watch:{},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.checkExits()})},autoCal:function(){if(1==this.ruleForm.autoCal){var e=Math.round(Number(this.ruleForm.Done)/Number(this.ruleForm.Plan)*100);this.ruleForm.Progress=isNaN(e)?this.ruleForm.Progress:e}},resetForm:function(e){this.$refs[e].resetFields()},close:function(){this.$hub.$emit("close-modal")},deleteTarget:function deleteTarget(){var _this2=this,ctrl=this;this.$confirm("Mục tiêu sẽ bị xóa hoàn toàn. Tiếp tục?","Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Bỏ qua",type:"warning"}).then(function(){ctrl.recursiveDeleteTarget({Id:ctrl.data.item.Id,Level:ctrl.data.item.Level}),ctrl.close();var tRequest=_this2.$Utils.clone(_this2.$singleRequest);tRequest.R1_RequestTemplate="AG_Task_Task.Search",tRequest.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",tRequest.R1_RequestFields="Id;Targets;TargetsName;";for(var i=1;i<=eval(ctrl.data.item.Level-5);i++)tRequest.R1_RequestFields+="TargetsLevel"+i+";";tRequest["R1_TargetsLevel"+[ctrl.model.Level-5]]=ctrl.model.Id,ctrl.$Utils.post(tRequest).then(function(response){response=ctrl.$Utils.getDataWithRoot(response.R1,"Data.TasksDS.Task");var updateRequest=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);$.each(response,function(index,value){var fVal={};fVal.Id=ctrl.$Lodash.cloneDeep(value.Id),fVal.Targets="",fVal.TargetsName="",fVal.RequestTemplate="AG_Task_Task.Update",fVal.RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",fVal.RequestFields="Id;Targets;TargetsName;",$.each(value.Targets.split(";"),function(key,val){key<eval(ctrl.data.item.Level-6)&&(fVal.Targets+=val+";",fVal["TargetsLevel"+[key+1]]=val,fVal.RequestFields+="TargetsLevel"+[key+1]+";")}),$.each(value.TargetsName.split(";"),function(key,val){key<eval(ctrl.data.item.Level-6)&&(fVal.TargetsName+=val+";")}),updateRequest.TotalRequests=index+1,updateRequest=ctrl.$Utils.updateParamsSingleRequest(updateRequest,fVal,index+1)}),ctrl.$Utils.post(updateRequest)})}).catch(function(){})},recursiveDeleteTarget:function(e){var t=this;if(t.$Utils.isEmpty(e)){var a=t.$Lodash.cloneDeep(t.$singleRequest);a.R1_RequestTemplate="Setting.Delete",a.R1_Id=e.Id,t.$Utils.post(a).then(function(a){$.each(t.data.targetLst,function(a,r){e.Id==r.ParentId&&t.recursiveDeleteTarget(r)}),t.data.getTargets(),t.data.getObject()})}},loadHistory:function(e){var t=this,a={RequestAction:"Request",RequestClass:"xBase",TotalRequests:"1",R1_RequestTemplate:"ChangedLogs",R1_Code:"ChangedHistory",R1_SourceId:e},r=[];r=t.data.targetFields.filter(function(e){return"true"==e.History}),t.$Utils.post(a).then(function(e){if(e.success&&e.R1.success){var a=t.$Utils.getDataWithRoot(e,"R1.Data.DataDS.Logs");$.each(a,function(e,a){try{t.viewHistoryModel.push({type:"head",value:a});var s=JSON.parse(a.Changes);$.each(s,function(e,s){if(r.length>0&&"Assigned"!==s.ColumnName&&"Id"!==s.ColumnName){if("ActualStartDate"===s.ColumnName||"ActualFinishDate"===s.ColumnName||"Created"===s.ColumnName){var i=t.$Utils.stringToDate(s.OldDisplayValue);s.OldDisplayValue="1"===a.Version?"":t.$Utils.formatDateTime(i,"DD/MM/YYYY"),i=t.$Utils.stringToDate(s.NewDisplayValue),s.NewDisplayValue=t.$Utils.formatDateTime(i,"DD/MM/YYYY")}0==("AssignedName"===s.ColumnName&&!s.OldDisplayValue&&""===s.NewDisplayValue)&&r.forEach(function(e){var r={type:"body",value:s},i=void 0!=e.DynamicText&&""!=e.DynamicText?e.DynamicText:e.Name;s.ColumnName==i&&("TargetType"===s.ColumnName?t.typeLst.filter(function(e){e.Id===s.OldDisplayValue&&(s.OldDisplayValue="1"===a.Version?"":e.Name),e.Id===s.NewDisplayValue&&(s.NewDisplayValue=e.Name)}):"IsPublic"===s.ColumnName&&(s.OldDisplayValue="1"===a.Version?"":"0"===s.OldDisplayValue||0==s.OldDisplayValue?"Riêng tư":"Công khai",s.NewDisplayValue="0"===s.NewDisplayValue||0==s.OldDisplayValue?"Riêng tư":"Công khai"),t.viewHistoryModel.push(r))})}})}catch(e){console.log(e)}})}})},checkExits:function(){var e=this,t=e.$Lodash.cloneDeep(this.$singleRequest);t.R1_RequestTemplate="xDynamicData_Setting.Search",t.R1_RequestFields="Name;ParentId;",t.R1_Name=e.ruleForm.Name,t.R1_RequestDataGroup="DataGroup.muc-tieu.091fb",t.R1_ParentId=e.ruleForm.Parent?e.ruleForm.Parent.Id:e.ruleForm.ParentId,e.$Utils.post(t).then(function(t){var a=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting");a=a.filter(function(t){return t.Name!=e.ruleForm.oldName}),0!=a.length?e.$message.error("Tên mục tiêu đã có"):e.saveOrUpdate()})},saveOrUpdate:function(){var e=this,t=e.$Lodash.cloneDeep(this.$singleRequest);e.ruleForm.Id?(t.R1_RequestTemplate="xDynamicData_Setting.Update",t.R1_Id=e.ruleForm.Id):(t.R1_RequestTemplate="xDynamicData_Setting.Insert",t.R1_ReferenceId=e.ruleForm.ParentId?e.ruleForm.ParentId:e.data.rootId,t.R1_NestedSetType="InsertLastChildNode"),t.R1_RequestFields="Plan;Done;Progress;Unit;Assigned;AssignedName;Owner;OwnerName;TargetType;Id;Index;Code;Name;Value;Description;LeftIndex;ParentId;Level;Value;RightIndex;Created;CreatedBy;Modified;IsPublic;ActualStartDate;ActualFinishDate;ValueName",t.R1_RequestDataGroup="DataGroup.muc-tieu.091fb",t.R1_Name=e.ruleForm.Name,t.R1_Plan=e.ruleForm.Plan,t.R1_Done=e.ruleForm.Done,t.R1_Owner=e.ruleForm.Owner,t.R1_TargetType=e.ruleForm.TargetType,isNaN(parseFloat(e.ruleForm.Progress+""))?delete e.ruleForm.Progress:t.R1_Progress=e.ruleForm.Progress,t.R1_Unit=e.ruleForm.Unit,t.R1_IsPublic=1==e.ruleForm.IsPublic?1:0,t.R1_Value=e.ruleForm.Value,$.each(e.departmentLst,function(a,r){var s=r.GroupId!==e.ruleForm.Value;return s||(t.R1_ValueName=r.GroupName),s}),t.R1_Assigned="",t.R1_AssignedName="",$.each(e.ruleForm.Assigned,function(a,r){t.R1_Assigned+=r+";",e.data.workers.filter(function(e){e.UserId&&e.UserId===r&&(t.R1_AssignedName+=e.Username+",")})}),e.data.workers.filter(function(a){a.UserId&&a.UserId===e.ruleForm.Owner&&(t.R1_OwnerName=a.Username)}),e.$Utils.isEmpty(e.ruleForm.ActualStartDate)&&(t.R1_ActualStartDate=e.$Utils.formatDateTime(e.ruleForm.ActualStartDate)),e.$Utils.isEmpty(e.ruleForm.ActualFinishDate)&&(t.R1_ActualFinishDate=e.$Utils.formatDateTime(e.ruleForm.ActualFinishDate)),e.$Utils.post(t).then(function(a){e.objectReturn=e.$Lodash.cloneDeep(e.ruleForm),e.objectReturn.Id=a.R1.Data,e.$Utils.isEmpty(e.objectReturn,"autoCals")&&delete e.objectReturn.autoCals,e.$Utils.isEmpty(e.objectReturn,"oldName")&&delete e.objectReturn.oldName,e.data.item=e.$Lodash.cloneDeep(e.objectReturn),e.objectReturn.AssignedName=t.R1_AssignedName,e.objectReturn.OwnerName=t.R1_OwnerName,e.objectReturn.Assigned=t.R1_Assigned,e.objectReturn.Value=t.R1_Value;var r=e.compareChange(e.objectReturn,e.oldObject);e.$Utils.isEmpty(r)&&r.length>0&&(t.R1_RequestTemplate,e.createHistoryLogs(r));var s=e.$Lodash.cloneDeep(e.ruleForm);s.Id=a.R1.Data,e.saveOrUpdatePermissions(""!==e.ruleForm.oldName,s),e.close()})},compareChange:function(e,t){var a=this,r=[];return a.objTemp=a.$Lodash.cloneDeep(a.oldObject),$.each(e,function(s,i){if(a.$Utils.isEmpty(i)){var n=i,l="",o={};$.each(a.data.targetFields,function(e,t){t.Name===s&&"true"==t.History&&(l=t.Caption,o=t)});var d={};$.each(t,function(e,t){s==e&&0==a.$Utils.equals(t,n)&&(d[e]=t)});var u={ColumnCaption:l,ColumnName:s,OldDisplayValue:d[s],OldValue:d[s],NewDisplayValue:e[s]?e[s]:n,NewValue:n};if(a.$Utils.isEmpty(o))switch(o.FieldColumnType){case"DateTime":a.$Utils.stringToDate(i).getTime()==a.$Utils.stringToDate(u.OldValue).getTime()&&(u=void 0);break;case"Double":case"Integer":!a.$Utils.isEmpty(a.objTemp[s])&&a.$Utils.isEmpty(e[s])&&(u.OldDisplayValue=0,u.OldValue=0)}u&&a.$Utils.isEmpty(l)&&""!=l&&r.push(u)}}),r},createHistoryLogs:function(e){var t=this,a=t.$Utils.updateParamsSingleRequest(t.$Lodash.cloneDeep(t.$singleRequest),{RequestTemplate:"ChangedLogs.Count",SourceId:t.objectReturn.Id,Code:"ChangedHistory"});t.$Utils.post(a).then(function(r){if(t.$Utils.isEmpty(r,"R1.Data")){var s=t.$Utils.updateParamsSingleRequest(a,{RequestTemplate:"ChangedLogs.Insert",Version:parseInt(r.R1.Data)+1,Changes:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e),CreatedByName:t.$Utils.getUserInfo("Username")});t.$Utils.post(s).then(function(e){})}})},saveOrUpdatePermissions:function(e,t){var a=this;a.$Lodash.cloneDeep(a.$singleRequest);if(1==e){var r={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;",StaticFields:"Code;Child;Parent;Name;Created;Description",OrderFields:"Created DESC",Parent:t.Id};a.$Utils.post(r).then(function(e){if(e.TotalCount>0){var r=1==e.TotalCount?[e.Data.DataDS.Linked]:e.Data.DataDS.Linked,s={RequestClass:"xBase",RequestAction:"Request",TotalRequests:r.length,RequestTemplate:"Permission.Remove"};$.each(r,function(e,t){s["R"+(t+1)+"_Id"]=e.Id}),a.savePermission(t,s)}})}else a.savePermission(t)},savePermission:function(e,t){var a=this;if(1==e.IsPublic)a.$Utils.linkToRoleEveryone([{Id:e.Id,Caption:e.Name}]),a.data.getTargets(),a.data.getObject();else{var r=[],s=[],i=[];if(i.push(e.Value),i&&i.length>0){var n={};i.filter(function(e,t){n["R"+a.ix+"_RequestTemplate"]="OrgnizationList",n["R"+a.ix+"_GroupName"]="Leader",n["R"+a.ix+"_GroupParent"]=e.GroupId,n["R"+a.ix+"_RequestDataType"]="json",n["R"+a.ix+"_GroupType"]="2",a.ix++}),n.TotalRequests=a.ix-1,n.RequestClass="xBase",n.RequestAction="Request",a.$Utils.post(n).then(function(n){for(var l=1;l<a.ix;l++){var o=a.$Utils.getDataWithRoot(n,"R"+l+".Data.UserDS.Group");void 0!=o[0]&&"Leader"===o[0].GroupName&&(s=s.concat(o))}var d="";if(s.filter(function(t,a){if(t.GroupParent==i[0].GroupId)if(d+=t.GroupId+";","2"==e.TargetType||"1"==e.TargetType){var s={Parrent:e.Id,Code:"Edit",Name:e.Name+" - Edit",Child:t.GroupId,ChildTable:"tblGroup"};r.push(s)}else if("3"==e.TargetType){var n={Parrent:e.Id,Code:"Manage",Name:e.Name+" - Manage",Child:t.GroupId,ChildTable:"tblGroup"};r.push(n)}}),e.Owner&&-1==d.indexOf(e.Owner)){var u={Parrent:e.Id,Code:"Edit",Name:e.Name+" - Edit",Child:e.Owner,ChildTable:"tblUser"};r.push(u)}e.Assigned&&e.Assigned.filter(function(t,a){if(""!==t&&-1==d.indexOf(t)){var s={Parrent:e.Id,Code:"Edit",Name:e.Name+" - Edit",Child:t,ChildTable:"tblUser"};r.push(s)}});var c={Parrent:e.Id,Code:"Manage",Name:e.Name+" - Manage",Child:a.$administrator,ChildTable:"tblGroup"};r.push(c);var m={Parrent:e.Id,Code:"Manage",Name:e.Name+" - Manage",Child:a.$supervisor,ChildTable:"tblGroup"};r.push(m);var _={},p=1;r.filter(function(e,t){_["R"+p+"_RequestClass"]="xBase",_["R"+p+"_RequestAction"]="LinkUserToObject",_["R"+p+"_ParentTable"]="xObject",_["R"+p+"_RequestTemplate"]="Permission.Insert",_["R"+p+"_Parent"]=e.Parrent,_["R"+p+"_Child"]=e.Child,_["R"+p+"_Code"]=e.Code,_["R"+p+"_Name"]=e.Name,_["R"+p+"_ChildTable"]=e.ChildTable,p++}),_.TotalRequests=r.length,_.RequestClass="xBase",_.RequestAction="Request",void 0==t?a.$Utils.post(_).then(function(e){a.data.getObject(),a.data.getTargets()}):a.$Utils.post(t).then(function(e){a.$Utils.post(_).then(function(e){a.data.getTargets(),a.data.getObject()})})})}}},changeEditState:function(){this.data.disabled=!this.data.disabled},changeType:function changeType(type){this.dataCopied.targetLst=this.data.targetLst.filter(function(ele){return void 0!=ele&&eval(type)-1+""===ele.TargetType}),this.$set(this.dataCopied,"targetFullLst",this.data.targetSavedLst.filter(function(ele){return void 0!=ele&&eval(type)-1+""===ele.TargetType}))},setParent:function(e){var t=this;3==t.ruleForm.TargetType&&$.each(t.departmentLst,function(a,r){t.$Utils.isEmpty(e)&&r.GroupId==e&&(t.ruleForm.Value=r)})}},created:function(){var e=this;e.ruleForm.Id?(e.loadHistory(e.ruleForm.Id),e.changeType(e.ruleForm.TargetType),void 0==e.ruleForm.IsPublic&&(e.ruleForm.IsPublic=!0),$.each(e.data.targetLst,function(t,a){if(e.ruleForm.Id===a.Id)return e.ruleForm.Permission=a.Permission,!1})):(e.ruleForm.Permission="Edit",e.isLeader?(e.ruleForm.TargetType=e.typeLst[2].Id,e.changeType(e.typeLst[2].Id)):(e.ruleForm.TargetType=e.typeLst[0].Id,e.changeType(e.typeLst[0].Id)),e.ruleForm.IsPublic=!0),"superadmin"!==JSON.parse(e.$getItemLocalStorage(e.$localStorageConstant.LoggedOnUser)).LoginName&&(e.data.workers=e.data.workers.filter(function(e){return e.LoginName&&-1===e.LoginName.indexOf("superadmin")}))}}}).call(__webpack_exports__,__webpack_require__(2))},934:function(e,t,a){"use strict";function r(e){a(935)}var s=a(937),i=a(938),n=a(1),l=r,o=n(s.a,i.a,!1,l,null,null);t.a=o.exports},935:function(e,t,a){var r=a(936);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(876)("dd1e798e",r,!0)},936:function(e,t,a){t=e.exports=a(875)(!0),t.push([e.i,"#history-grid th{text-align:center!important}#history-grid td,#history-grid th,#history-grid tr{border:thin solid #d3d3d3}","",{version:3,sources:["D:/projects/bos/vuejs/src/components/dynamic/HistoryGrid.vue"],names:[],mappings:"AACA,iBACE,2BAA8B,CAE/B,AACD,mDAFE,yBAA6B,CAI9B",file:"HistoryGrid.vue",sourcesContent:["\n#history-grid th {\n  text-align: center !important;\n  border: solid thin lightgray;\n}\n#history-grid tr, #history-grid td {\n  border: solid thin lightgray;\n}\n"],sourceRoot:""}])},937:function(e,t,a){"use strict";t.a={props:["dtSource","dtHeader"],methods:{},data:function(){return{}}}},938:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card",attrs:{id:"history-grid"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Lịch sử")])]),e._v(" "),a("div",{staticClass:"el-table__body-wrapper is-scroll-left"},[a("table",{staticStyle:{width:"100%"}},[a("thead",{staticClass:"positive-bg light text-bold"},[a("tr",e._l(e.dtHeader,function(t){return a("th",[e._v(e._s(t))])}))]),e._v(" "),a("tbody",e._l(e.dtSource,function(t){return a("tr",{style:{"background-color":"body"==t.type?"#e4e5e6":"#fff"}},["head"==t.type?a("td",{staticClass:"success",attrs:{colspan:"3"}},[e._v("\n          v."+e._s(t.value.Version+".0 ")),a("strong",[e._v(e._s(t.value.CreatedByName))]),e._v(", "+e._s(e.$Utils.formatDateTime(t.value.Created,"DD-MM-YYYY HH:mm"))+"\n        ")]):e._e(),e._v(" "),"body"==t.type?a("td",[e._v(e._s(t.value.ColumnCaption))]):e._e(),e._v(" "),"body"==t.type?a("td",[e._v(e._s(t.value.OldDisplayValue))]):e._e(),e._v(" "),"body"==t.type?a("td",[e._v(e._s(t.value.NewDisplayValue))]):e._e()])}))])])])},s=[],i={render:r,staticRenderFns:s};t.a=i},939:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{float:"left"}},[e._v("Thông tin mục tiêu")]),e._v(" "),a("div",{staticStyle:{float:"right",padding:"3px 0"}},[0==e.data.disabled&&e.ruleForm.Permission&&"View"!==e.ruleForm.Permission?a("el-button",{attrs:{icon:"fa fa-save"},on:{click:function(t){e.submitForm("ruleForm")}}}):e._e(),e._v(" "),1==e.data.disabled&&e.ruleForm.Permission&&"View"!==e.ruleForm.Permission?a("el-button",{attrs:{icon:"el-icon-edit"},on:{click:e.changeEditState}}):e._e(),e._v(" "),1==e.data.isEditable&&void 0==e.data.item.Permission?a("el-button",{attrs:{icon:"fa fa-eraser"},on:{click:function(t){e.resetForm("ruleForm")}}}):e._e(),e._v(" "),e.ruleForm.Permission&&"Manage"===e.ruleForm.Permission?a("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(t){e.deleteTarget()}}}):e._e()],1)]),e._v(" "),a("div",[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-position":e.$isMobileDevice?"top":"right","label-width":"150px"}},[a("el-form-item",{attrs:{label:"Tên:",prop:"Name"}},[a("el-input",{attrs:{disabled:e.data.disabled},model:{value:e.ruleForm.Name,callback:function(t){e.$set(e.ruleForm,"Name",t)},expression:"ruleForm.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Hiển thị:",prop:"IsPublic"}},[a("el-switch",{staticStyle:{display:"block"},attrs:{disabled:e.data.disabled,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"Công khai","inactive-text":"Riêng tư"},model:{value:e.ruleForm.IsPublic,callback:function(t){e.$set(e.ruleForm,"IsPublic",t)},expression:"ruleForm.IsPublic"}})],1),e._v(" "),a("el-form-item",{staticClass:"demo-form-inline",attrs:{label:"Thời gian:",prop:"startEndDate"}},[a("el-date-picker",{attrs:{format:"dd-MM-yyyy",disabled:e.data.disabled,type:"date",placeholder:"Bắt đầu"},model:{value:e.ruleForm.ActualStartDate,callback:function(t){e.$set(e.ruleForm,"ActualStartDate",t)},expression:"ruleForm.ActualStartDate"}}),e._v(" "),a("el-date-picker",{attrs:{format:"dd-MM-yyyy",disabled:e.data.disabled,type:"date",placeholder:"Kết thúc"},model:{value:e.ruleForm.ActualFinishDate,callback:function(t){e.$set(e.ruleForm,"ActualFinishDate",t)},expression:"ruleForm.ActualFinishDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Loại mục tiêu:",prop:"TargetType"}},[a("el-radio-group",{attrs:{disabled:!e.data.isEditable},on:{change:function(t){e.changeType(e.ruleForm.TargetType)}},model:{value:e.ruleForm.TargetType,callback:function(t){e.$set(e.ruleForm,"TargetType",t)},expression:"ruleForm.TargetType"}},e._l(e.typeLst,function(t){return a("el-radio",{key:t.Id,attrs:{size:"mini",label:t.Id,border:"","ng-show":"data.disabled?true:(t.Id ===ruleForm.TargetType) "}},[e._v(e._s(t.Name))])}))],1),e._v(" "),void 0!=e.dataCopied.targetLst.length&&"1"!==e.ruleForm.TargetType?a("el-form-item",{attrs:{label:"Mục tiêu cha:",prop:"ParentId"}},[e.isShowAllTarget?a("el-select",{attrs:{placeholder:"--Chọn--",disabled:void 0!==e.ruleForm.Id},on:{change:function(t){e.setParent(e.ruleForm.ParentId)}},model:{value:e.ruleForm.ParentId,callback:function(t){e.$set(e.ruleForm,"ParentId",t)},expression:"ruleForm.ParentId"}},e._l(e.dataCopied.targetFullLst,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})})):a("el-select",{attrs:{placeholder:"--Chọn--",disabled:!e.data.isEditable},on:{change:function(t){e.setParent(e.ruleForm.ParentId)}},model:{value:e.ruleForm.ParentId,callback:function(t){e.$set(e.ruleForm,"ParentId",t)},expression:"ruleForm.ParentId"}},e._l(e.dataCopied.targetLst,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})})),e._v("\n             \n          "),void 0===e.ruleForm.Id?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Bộ lọc thời gian sẽ ảnh hưởng tới số lượng mục tiêu cha hiển thị. Để hiển thị tất cả mục tiêu, hãy chọn 'Hiển thị tất cả'",placement:"top"}},[a("i",{staticClass:"fa fa-lg fa-info-circle"})]):e._e(),e._v("\n             \n          "),void 0===e.ruleForm.Id?a("el-checkbox",{attrs:{label:"Hiển thị tất cả"},model:{value:e.isShowAllTarget,callback:function(t){e.isShowAllTarget=t},expression:"isShowAllTarget"}}):e._e()],1):e._e(),e._v(" "),e.data.departmentLst.length>0?a("el-form-item",{attrs:{label:"Thuộc phòng ban:",prop:"Value"}},[a("el-select",{attrs:{filterable:"",placeholder:"--Chọn--",disabled:e.data.disabled},model:{value:e.ruleForm.Value,callback:function(t){e.$set(e.ruleForm,"Value",t)},expression:"ruleForm.Value"}},e._l(e.data.departmentLst,function(e){return a("el-option",{key:e.GroupId,attrs:{label:e.GroupName,value:e.GroupId}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"Quản lý:",prop:"Owner"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"--Chọn--",disabled:e.data.disabled},model:{value:e.ruleForm.Owner,callback:function(t){e.$set(e.ruleForm,"Owner",t)},expression:"ruleForm.Owner"}},e._l(e.data.workers,function(t){return-1==t.UserId.indexOf(";")?a("el-option",{key:t.UserId,attrs:{label:t.Username,value:t.UserId}}):e._e()}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Nhân sự thực hiện:",prop:"Assigned"}},[a("el-select",{attrs:{filterable:"",multiple:"",placeholder:"--Chọn--",disabled:e.data.disabled},model:{value:e.ruleForm.Assigned,callback:function(t){e.$set(e.ruleForm,"Assigned",t)},expression:"ruleForm.Assigned"}},e._l(e.data.workers,function(e){return a("el-option",{key:e.UserId,attrs:{label:e.Username,value:e.UserId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"KPIs kế hoạch:",prop:"Plan"}},[a("el-input",{attrs:{disabled:e.data.disabled},on:{change:function(t){e.autoCal()}},model:{value:e.ruleForm.Plan,callback:function(t){e.$set(e.ruleForm,"Plan",t)},expression:"ruleForm.Plan"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"KPIs đạt:",prop:"Done"}},[a("el-input",{attrs:{disabled:e.data.disabled},on:{change:function(t){e.autoCal()}},model:{value:e.ruleForm.Done,callback:function(t){e.$set(e.ruleForm,"Done",t)},expression:"ruleForm.Done"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Đơn vị tính:",prop:"Unit"}},[a("el-input",{attrs:{disabled:e.data.disabled},model:{value:e.ruleForm.Unit,callback:function(t){e.$set(e.ruleForm,"Unit",t)},expression:"ruleForm.Unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Tính % Hoàn thành:",prop:"autoCal"}},[a("el-switch",{attrs:{disabled:e.data.disabled},on:{change:function(t){e.autoCal()}},model:{value:e.ruleForm.autoCal,callback:function(t){e.$set(e.ruleForm,"autoCal",t)},expression:"ruleForm.autoCal"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Tỉ lệ hoành thành:",prop:"Progress"}},[a("el-input",{attrs:{disabled:e.data.disabled},model:{value:e.ruleForm.Progress,callback:function(t){e.$set(e.ruleForm,"Progress",t)},expression:"ruleForm.Progress"}})],1)],1)],1)]),e._v(" "),e.data.isEditable?e._e():a("HistoryGrid",{attrs:{dtSource:e.viewHistoryModel,dtHeader:["Mục","Giá trị cũ","Giá trị mới"]}})],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},940:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"tTbl"}},[a("div",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"space-between","font-size":"14px","padding-right":"8px"}},[a("el-row"),e._v(" "),e.editableUser?a("el-tooltip",{attrs:{content:"Thêm mới mục tiêu",placement:"top"}},[a("el-button",{attrs:{size:"mini",icon:"fa fa-plus"},on:{click:function(t){e.addNewTarget()}}})],1):e._e()],1),e._v(" "),a("el-table",{attrs:{data:e.dtSrc,border:"","empty-text":"Không có dữ liệu"}},[a("el-table-column",{attrs:{label:"",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(a){e.openTargetDetail(t.row)}}},[a("i",{staticClass:"fa-lg icon-magnifier-add"})])]}}])}),e._v(" "),a("el-table-tree-column",{attrs:{prop:"Name",label:"Tên",levelKey:"level",treeKey:"Id",parentKey:"ParentId"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Progress",label:"Hoàn thành","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:Math.round(isNaN(e.row.Progress)?0:e.row.Progress)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"TargetType",label:"Loại","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.targetsObj[t.row.TargetType]?e.targetsObj[t.row.TargetType].Name:"---")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Plan",label:"Kế hoạch","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"Done",label:"Đạt được","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"Unit",label:"Đơn vị","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"Unit",label:"Người quản lý","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[void 0!=e.userWithAvatarLst[t.row.Owner]?a("img",{staticClass:"avatar",staticStyle:{margin:"8px 10px 0 0"},attrs:{height:"35",width:"35",title:e.userWithAvatarLst[t.row.Owner].Username,src:e.loadAvatar(e.userWithAvatarLst[t.row.Owner].Avatar)}}):e._e(),e._v(" "),void 0==e.userWithAvatarLst[t.row.Owner]?a("span",[e._v(e._s(t.row.OwnerName))]):e._e()])]}}])})],1)],1)},s=[],i={render:r,staticRenderFns:s};t.a=i}});
//# sourceMappingURL=2.7bef6d12210315133a43.js.map