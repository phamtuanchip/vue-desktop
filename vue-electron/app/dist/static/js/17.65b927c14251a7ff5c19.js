webpackJsonp([17],{882:function(t,e,a){"use strict";function n(t){a(969)}Object.defineProperty(e,"__esModule",{value:!0});var o=a(971),i=a(972),r=a(1),s=n,c=r(o.a,i.a,!1,s,"data-v-0677b199",null);e.default=c.exports},969:function(t,e,a){var n=a(970);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(876)("e7d8c8fe",n,!0)},970:function(t,e,a){e=t.exports=a(875)(!0),e.push([t.i,".el-table th[data-v-0677b199]{background-color:#3e4548;color:#fff}.el-table--border td[data-v-0677b199],.el-table--border th[data-v-0677b199]{border-right:2px solid #f2f3f4}.el-dialog--center .el-dialog__header[data-v-0677b199]{padding-top:10px;background-color:#3e4548;color:#fff}.el-tabs__header[data-v-0677b199]{margin:0 0 5px!important}","",{version:3,sources:["D:/projects/bos/vuejs/src/components/static/SettingUsers.vue"],names:[],mappings:"AACA,8BACE,yBAA0B,AAC1B,UAAY,CACb,AACD,4EACE,8BAAgC,CACjC,AACD,uDACE,iBAAkB,AAClB,yBAA0B,AAC1B,UAAY,CACb,AACD,kCACE,wBAA2B,CAC5B",file:"SettingUsers.vue",sourcesContent:["\n.el-table th[data-v-0677b199] {\n  background-color: #3e4548;\n  color: #fff;\n}\n.el-table--border td[data-v-0677b199], .el-table--border th[data-v-0677b199] {\n  border-right: 2px solid #f2f3f4;\n}\n.el-dialog--center .el-dialog__header[data-v-0677b199] {\n  padding-top: 10px;\n  background-color: #3e4548;\n  color: #fff;\n}\n.el-tabs__header[data-v-0677b199] {\n  margin: 0 0 5px !important;\n}\n"],sourceRoot:""}])},971:function(t,e,a){"use strict";var n=a(62),o=a.n(n),i=a(63),r=a.n(i),s=a(61),c=a(105),l=a(285),m=a(289),u=a(106);e.a={components:{UserInfo:s.a,ChangeThePassword:c.a,FormCfg:l.a,UIUsers:m.a},data:function(){return{taskFormSettings:{},docFormSettings:{},activeName:"first",tableData:[],temp:[],centerDialogVisible:!1,tabPosition:"top",valueAction:"Hoạt động",valueNotAction:"",searchInput:"",crmContactFormSettings:{},crmLeadFormSettings:{},crmOrderFormSettings:{},crmActivityFormSettings:{},crmProductFormSettings:{},activeNameCRM:"CRM.contact",appInfo:{}}},watch:{searchInput:function(t){null==t||""==t.trim()?this.tableData=this.temp:this.tableData=this.tableData.filter(function(e){return e.Username.toLowerCase().indexOf(t.toLowerCase())>-1})}},methods:{getAppInfoParameter:function(){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.requestSetting("xSetting.Default.AppInfo").then(function(e){var a=e.reduce(function(t,e){return t[e.Code]=e,t},{});t.appInfo=a});case 2:case"end":return e.stop()}},e,t)}))()},search:function(t,e){e.filter(function(e){return e.Username.indexOf(t)>-1})},changePass:function(t,e){var a=e[t];this.$hub.$emit("set-modal-data","Thay đổi mật khẩu","70%",!0,"center",c.a,!1,"",a)},editUser:function(t,e){e[t];this.$hub.$emit("set-modal-data","Sửa thông tin người dùng","80%",!0,"center",s.a,!0,"",{action:"edit",item:this.userModel})},indexMethod:function(t){return t+1},getUsers:function(){var t=this,e={RequestAction:"SearchUserWithGroups",IncludedGroupManager:!0,RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status;LoginName;UserId",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;GroupManage;Notification",OrderFields:"LoginName ASC",GroupType:1,Status:1};this.$Utils.post(e).then(function(e){t.tableData=t.$Utils.getDataWithRoot(e,"Data.UserDS.User"),t.temp=t.tableData},function(t){})},getTaskDocumentFormSetting:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:2,R1_RequestTemplate:"SettingNew.SearchSetting",R1_ParentCode:"xSetting.Project.Form",R1_Level:4,R1_Code:this.appInfo["xSetting.Default.AppInfo.PermissionTask"].Value,R2_RequestTemplate:"SettingNew.SearchSetting",R2_ParentCode:"xSetting.Project.Form",R2_Level:4,R2_Code:this.appInfo["xSetting.Default.AppInfo.PermissionDocument"].Value,SessionId:this.sessionId};this.$Utils.post(e).then(function(e){t.taskFormSettings=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0],t.docFormSettings=t.$Utils.getDataWithRoot(e.R2,"Data.DynamicDS.Setting")[0]})},getCRMFormSetting:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:5,R1_RequestTemplate:"SettingNew.SearchSetting",R1_Code:this.appInfo["xSetting.Default.AppInfo.PermissionCRMContact"].Value,R2_RequestTemplate:"SettingNew.SearchSetting",R2_Code:this.appInfo["xSetting.Default.AppInfo.PermissionCRMLead"].Value,R3_RequestTemplate:"SettingNew.SearchSetting",R3_Code:this.appInfo["xSetting.Default.AppInfo.PermissionCRMOrder"].Value,R4_RequestTemplate:"SettingNew.SearchSetting",R4_Code:this.appInfo["xSetting.Default.AppInfo.PermissionCRMActivity"].Value,R5_RequestTemplate:"SettingNew.SearchSetting",R5_Code:this.appInfo["xSetting.Default.AppInfo.PermissionCRMProduct"].Value};console.log("this.appInfo",this.appInfo),this.$Utils.post(e).then(function(e){t.crmContactFormSettings=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0],t.crmLeadFormSettings=t.$Utils.getDataWithRoot(e.R2,"Data.DynamicDS.Setting")[0],t.crmOrderFormSettings=t.$Utils.getDataWithRoot(e.R3,"Data.DynamicDS.Setting")[0],t.crmActivityFormSettings=t.$Utils.getDataWithRoot(e.R4,"Data.DynamicDS.Setting")[0],t.crmProductFormSettings=t.$Utils.getDataWithRoot(e.R5,"Data.DynamicDS.Setting")[0]})}},created:function(){var t=this;this.getAppInfoParameter().then(function(){t.getTaskDocumentFormSetting(),t.getCRMFormSetting()}),this.getUsers()}}},972:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{attrs:{"tab-position":t.tabPosition},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Người dùng",name:"first"}},[a("UIUsers")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Phân quyền task",name:"second"}},["second"===t.activeName?a("FormCfg",{attrs:{selectedItem:t.taskFormSettings}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Phân quyền tài liệu",name:"third"}},["third"===t.activeName?a("FormCfg",{attrs:{selectedItem:t.docFormSettings}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Phân quyền CRM",name:"fourth"}},["fourth"===t.activeName?a("el-tabs",{attrs:{"tab-position":"top",type:"border-card"},model:{value:t.activeNameCRM,callback:function(e){t.activeNameCRM=e},expression:"activeNameCRM"}},[a("el-tab-pane",{attrs:{label:"Contact",name:"CRM.contact"}},["CRM.contact"===t.activeNameCRM?a("FormCfg",{attrs:{selectedItem:t.crmContactFormSettings}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Lead",name:"CRM.lead"}},["CRM.lead"===t.activeNameCRM?a("FormCfg",{attrs:{selectedItem:t.crmLeadFormSettings}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Activity",name:"CRM.activity"}},["CRM.activity"===t.activeNameCRM?a("FormCfg",{attrs:{selectedItem:t.crmActivityFormSettings}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Order",name:"CRM.order"}},["CRM.order"===t.activeNameCRM?a("FormCfg",{attrs:{selectedItem:t.crmOrderFormSettings}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Product",name:"CRM.product"}},["CRM.product"===t.activeNameCRM?a("FormCfg",{attrs:{selectedItem:t.crmProductFormSettings}}):t._e()],1)],1):t._e()],1)],1)],1)},o=[],i={render:n,staticRenderFns:o};e.a=i}});
//# sourceMappingURL=17.65b927c14251a7ff5c19.js.map